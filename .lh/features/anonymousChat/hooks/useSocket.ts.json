{
    "sourceFile": "features/anonymousChat/hooks/useSocket.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1752230016907,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1752230016907,
            "name": "Commit-0",
            "content": "// features/anonymousChat/hooks/useSocket.ts\r\n\r\nimport { useEffect, useRef } from \"react\";\r\nimport { io, Socket } from \"socket.io-client\";\r\n\r\nconst SOCKET_URL = process.env.NEXT_PUBLIC_SOCKET_URL || \"http://localhost:3001\";\r\n\r\nexport default function useSocket(): Socket | null {\r\n  const socketRef = useRef<Socket | null>(null);\r\n\r\n  useEffect(() => {\r\n    const socket = io(SOCKET_URL, {\r\n      transports: [\"websocket\"],\r\n      reconnectionAttempts: 3,\r\n      reconnectionDelay: 1000,\r\n    });\r\n\r\n    socketRef.current = socket;\r\n\r\n    socket.on(\"connect\", () => {\r\n      console.log(\"✅ Connected to socket server:\", socket.id);\r\n    });\r\n\r\n    socket.on(\"disconnect\", () => {\r\n      console.log(\"❌ Disconnected from socket server\");\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  return socketRef.current;\r\n}\r\n"
        }
    ]
}