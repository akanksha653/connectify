{
    "sourceFile": "components/chat/Message.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 57,
            "patches": [
                {
                    "date": 1752230228087,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1752253387878,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,15 +8,27 @@\n }\r\n \r\n export default function Message({ content, sender }: MessageProps) {\r\n   return (\r\n-    <div\r\n-      className={`mb-2 px-4 py-2 rounded-lg text-sm max-w-xs break-words ${\r\n-        sender === \"me\"\r\n-          ? \"bg-blue-600 text-white self-end\"\r\n-          : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 self-start\"\r\n-      }`}\r\n-    >\r\n-      {content}\r\n+    <div className={`flex flex-col ${sender === \"me\" ? \"items-end\" : \"items-start\"}`}>\r\n+      {/* Sender badge */}\r\n+      <span\r\n+        className={`text-xs mb-1 ${\r\n+          sender === \"me\" ? \"text-blue-500\" : \"text-neutral-500\"\r\n+        }`}\r\n+      >\r\n+        {sender === \"me\" ? \"You\" : \"Stranger\"}\r\n+      </span>\r\n+\r\n+      {/* Message bubble */}\r\n+      <div\r\n+        className={`px-4 py-2 rounded-lg text-sm max-w-xs break-words shadow-md ${\r\n+          sender === \"me\"\r\n+            ? \"bg-blue-600 text-white rounded-br-none\"\r\n+            : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-none\"\r\n+        }`}\r\n+      >\r\n+        {content}\r\n+      </div>\r\n     </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1752315400394,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,21 +8,25 @@\n }\r\n \r\n export default function Message({ content, sender }: MessageProps) {\r\n   return (\r\n-    <div className={`flex flex-col ${sender === \"me\" ? \"items-end\" : \"items-start\"}`}>\r\n+    <div\r\n+      className={`flex flex-col ${\r\n+        sender === \"me\" ? \"items-end\" : \"items-start\"\r\n+      } w-full`}\r\n+    >\r\n       {/* Sender badge */}\r\n       <span\r\n         className={`text-xs mb-1 ${\r\n-          sender === \"me\" ? \"text-blue-500\" : \"text-neutral-500\"\r\n+          sender === \"me\" ? \"text-blue-500\" : \"text-neutral-500 dark:text-neutral-400\"\r\n         }`}\r\n       >\r\n         {sender === \"me\" ? \"You\" : \"Stranger\"}\r\n       </span>\r\n \r\n       {/* Message bubble */}\r\n       <div\r\n-        className={`px-4 py-2 rounded-lg text-sm max-w-xs break-words shadow-md ${\r\n+        className={`px-4 py-2 rounded-lg text-sm max-w-[80%] break-words shadow ${\r\n           sender === \"me\"\r\n             ? \"bg-blue-600 text-white rounded-br-none\"\r\n             : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-none\"\r\n         }`}\r\n"
                },
                {
                    "date": 1752319925296,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n   return (\r\n     <div\r\n       className={`flex flex-col ${\r\n         sender === \"me\" ? \"items-end\" : \"items-start\"\r\n-      } w-full`}\r\n+      } w-full px-2`}\r\n     >\r\n       {/* Sender badge */}\r\n       <span\r\n         className={`text-xs mb-1 ${\r\n@@ -24,13 +24,11 @@\n       </span>\r\n \r\n       {/* Message bubble */}\r\n       <div\r\n-        className={`px-4 py-2 rounded-lg text-sm max-w-[80%] break-words shadow ${\r\n-          sender === \"me\"\r\n-            ? \"bg-blue-600 text-white rounded-br-none\"\r\n-            : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-none\"\r\n-        }`}\r\n+        className={`px-4 py-2 rounded-lg text-sm break-words shadow \r\n+        ${sender === \"me\" ? \"bg-blue-600 text-white rounded-br-none\" : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-none\"}\r\n+        max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}\r\n       >\r\n         {content}\r\n       </div>\r\n     </div>\r\n"
                },
                {
                    "date": 1752319966343,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,36 +1,41 @@\n \"use client\";\r\n \r\n import React from \"react\";\r\n+import { motion } from \"framer-motion\";\r\n \r\n interface MessageProps {\r\n   content: string;\r\n   sender: \"me\" | \"partner\";\r\n+  timestamp?: string; // optional if backend provides it\r\n }\r\n \r\n-export default function Message({ content, sender }: MessageProps) {\r\n+export default function Message({ content, sender, timestamp }: MessageProps) {\r\n+  const formattedTime =\r\n+    timestamp || new Date().toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" });\r\n+\r\n   return (\r\n-    <div\r\n+    <motion.div\r\n+      initial={{ opacity: 0, y: 10 }}\r\n+      animate={{ opacity: 1, y: 0 }}\r\n+      transition={{ duration: 0.25 }}\r\n       className={`flex flex-col ${\r\n         sender === \"me\" ? \"items-end\" : \"items-start\"\r\n       } w-full px-2`}\r\n     >\r\n-      {/* Sender badge */}\r\n-      <span\r\n-        className={`text-xs mb-1 ${\r\n-          sender === \"me\" ? \"text-blue-500\" : \"text-neutral-500 dark:text-neutral-400\"\r\n-        }`}\r\n-      >\r\n-        {sender === \"me\" ? \"You\" : \"Stranger\"}\r\n-      </span>\r\n+      {/* Sender label + timestamp */}\r\n+      <div className=\"flex items-center gap-2 text-xs mb-1 text-neutral-500 dark:text-neutral-400\">\r\n+        <span>{sender === \"me\" ? \"You\" : \"Stranger\"}</span>\r\n+        <span className=\"text-[10px]\">{formattedTime}</span>\r\n+      </div>\r\n \r\n       {/* Message bubble */}\r\n       <div\r\n-        className={`px-4 py-2 rounded-lg text-sm break-words shadow \r\n+        className={`px-4 py-2 rounded-lg text-sm break-words shadow\r\n         ${sender === \"me\" ? \"bg-blue-600 text-white rounded-br-none\" : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-none\"}\r\n         max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}\r\n       >\r\n         {content}\r\n       </div>\r\n-    </div>\r\n+    </motion.div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1752320571765,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,41 +1,131 @@\n \"use client\";\r\n \r\n-import React from \"react\";\r\n-import { motion } from \"framer-motion\";\r\n+import React, { useState } from \"react\";\r\n+import Picker from \"@emoji-mart/react\";\r\n+import data from \"@emoji-mart/data\";\r\n \r\n interface MessageProps {\r\n+  id: string;\r\n+  sender: \"me\" | \"partner\";\r\n   content: string;\r\n-  sender: \"me\" | \"partner\";\r\n-  timestamp?: string; // optional if backend provides it\r\n+  timestamp: string;\r\n+  status?: \"sent\" | \"delivered\" | \"seen\";\r\n+  type?: \"text\" | \"image\" | \"audio\" | \"video\";\r\n+  reactions?: { [userId: string]: string };\r\n+\r\n+  // Action handlers from ChatBox\r\n+  onDelete?: () => void;\r\n+  onEdit?: (newContent: string) => void;\r\n+  onReact?: (reaction: string) => void;\r\n }\r\n \r\n-export default function Message({ content, sender, timestamp }: MessageProps) {\r\n-  const formattedTime =\r\n-    timestamp || new Date().toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" });\r\n+export default function Message({\r\n+  sender,\r\n+  content,\r\n+  timestamp,\r\n+  status,\r\n+  type = \"text\",\r\n+  reactions = {},\r\n+  onDelete,\r\n+  onEdit,\r\n+  onReact,\r\n+}: MessageProps) {\r\n+  const [isEditing, setIsEditing] = useState(false);\r\n+  const [editedContent, setEditedContent] = useState(content);\r\n+  const [showReactions, setShowReactions] = useState(false);\r\n \r\n+  const time = new Date(timestamp).toLocaleTimeString([], {\r\n+    hour: \"2-digit\",\r\n+    minute: \"2-digit\",\r\n+  });\r\n+\r\n+  const handleEditSubmit = () => {\r\n+    onEdit?.(editedContent);\r\n+    setIsEditing(false);\r\n+  };\r\n+\r\n+  const renderMedia = () => {\r\n+    if (type === \"image\") return <img src={content} className=\"rounded max-w-xs mt-1\" />;\r\n+    if (type === \"audio\") return <audio controls src={content} className=\"mt-1 w-full\" />;\r\n+    if (type === \"video\") return <video controls src={content} className=\"mt-1 w-full rounded\" />;\r\n+    return content;\r\n+  };\r\n+\r\n   return (\r\n-    <motion.div\r\n-      initial={{ opacity: 0, y: 10 }}\r\n-      animate={{ opacity: 1, y: 0 }}\r\n-      transition={{ duration: 0.25 }}\r\n-      className={`flex flex-col ${\r\n-        sender === \"me\" ? \"items-end\" : \"items-start\"\r\n-      } w-full px-2`}\r\n-    >\r\n-      {/* Sender label + timestamp */}\r\n+    <div className={`flex flex-col ${sender === \"me\" ? \"items-end\" : \"items-start\"} w-full px-2`}>\r\n       <div className=\"flex items-center gap-2 text-xs mb-1 text-neutral-500 dark:text-neutral-400\">\r\n         <span>{sender === \"me\" ? \"You\" : \"Stranger\"}</span>\r\n-        <span className=\"text-[10px]\">{formattedTime}</span>\r\n+        <span className=\"text-[10px]\">{time}</span>\r\n       </div>\r\n \r\n-      {/* Message bubble */}\r\n       <div\r\n-        className={`px-4 py-2 rounded-lg text-sm break-words shadow\r\n-        ${sender === \"me\" ? \"bg-blue-600 text-white rounded-br-none\" : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-none\"}\r\n-        max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}\r\n+        className={`relative group px-4 py-2 rounded-lg text-sm break-words shadow ${\r\n+          sender === \"me\"\r\n+            ? \"bg-blue-600 text-white rounded-br-none\"\r\n+            : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-none\"\r\n+        } max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}\r\n       >\r\n-        {content}\r\n+        {/* Editable Text */}\r\n+        {isEditing ? (\r\n+          <div className=\"flex flex-col gap-1\">\r\n+            <input\r\n+              className=\"text-black px-2 py-1 rounded text-sm\"\r\n+              value={editedContent}\r\n+              onChange={(e) => setEditedContent(e.target.value)}\r\n+            />\r\n+            <div className=\"flex gap-2 justify-end text-xs\">\r\n+              <button onClick={handleEditSubmit} className=\"text-green-500\">Save</button>\r\n+              <button onClick={() => setIsEditing(false)} className=\"text-red-500\">Cancel</button>\r\n+            </div>\r\n+          </div>\r\n+        ) : (\r\n+          <>\r\n+            {type === \"text\" ? content : renderMedia()}\r\n+            {/* Reactions */}\r\n+            {Object.values(reactions).length > 0 && (\r\n+              <div className=\"mt-1 flex gap-1 text-lg\">\r\n+                {Object.values(reactions).map((r, i) => (\r\n+                  <span key={i}>{r}</span>\r\n+                ))}\r\n+              </div>\r\n+            )}\r\n+          </>\r\n+        )}\r\n+\r\n+        {/* Action buttons (edit/delete/react) only for \"me\" */}\r\n+        {sender === \"me\" && !isEditing && (\r\n+          <div className=\"absolute right-0 top-0 hidden group-hover:flex gap-2 px-2 py-1 text-xs text-white\">\r\n+            {onEdit && <button onClick={() => setIsEditing(true)}>âœï¸</button>}\r\n+            {onDelete && <button onClick={onDelete}>ğŸ—‘ï¸</button>}\r\n+            {onReact && <button onClick={() => setShowReactions(!showReactions)}>â¤ï¸</button>}\r\n+          </div>\r\n+        )}\r\n+\r\n+        {/* Reaction Picker */}\r\n+        {showReactions && (\r\n+          <div className=\"absolute z-50 top-full mt-1 right-0\">\r\n+            <Picker\r\n+              data={data}\r\n+              theme=\"auto\"\r\n+              onEmojiSelect={(e: any) => {\r\n+                onReact?.(e.native);\r\n+                setShowReactions(false);\r\n+              }}\r\n+            />\r\n+          </div>\r\n+        )}\r\n       </div>\r\n-    </motion.div>\r\n+\r\n+      {/* Message Status (Only for \"me\") */}\r\n+      {sender === \"me\" && status && (\r\n+        <div className=\"text-[10px] text-right text-neutral-400 mt-1\">\r\n+          {status === \"seen\"\r\n+            ? \"Seen âœ…\"\r\n+            : status === \"delivered\"\r\n+            ? \"Delivered âœ”ï¸\"\r\n+            : \"Sent\"}\r\n+        </div>\r\n+      )}\r\n+    </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1752321071262,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,72 +39,94 @@\n     minute: \"2-digit\",\r\n   });\r\n \r\n   const handleEditSubmit = () => {\r\n-    onEdit?.(editedContent);\r\n-    setIsEditing(false);\r\n+    if (editedContent.trim()) {\r\n+      onEdit?.(editedContent.trim());\r\n+      setIsEditing(false);\r\n+    }\r\n   };\r\n \r\n   const renderMedia = () => {\r\n-    if (type === \"image\") return <img src={content} className=\"rounded max-w-xs mt-1\" />;\r\n-    if (type === \"audio\") return <audio controls src={content} className=\"mt-1 w-full\" />;\r\n-    if (type === \"video\") return <video controls src={content} className=\"mt-1 w-full rounded\" />;\r\n-    return content;\r\n+    switch (type) {\r\n+      case \"image\":\r\n+        return (\r\n+          <img\r\n+            src={content}\r\n+            alt=\"Image\"\r\n+            className=\"rounded max-w-xs mt-2 object-cover border border-gray-200 dark:border-gray-600\"\r\n+          />\r\n+        );\r\n+      case \"audio\":\r\n+        return <audio controls src={content} className=\"mt-2 w-full\" />;\r\n+      case \"video\":\r\n+        return (\r\n+          <video\r\n+            controls\r\n+            src={content}\r\n+            className=\"mt-2 w-full rounded max-h-64 object-cover\"\r\n+          />\r\n+        );\r\n+      default:\r\n+        return <p className=\"whitespace-pre-wrap\">{content}</p>;\r\n+    }\r\n   };\r\n \r\n   return (\r\n     <div className={`flex flex-col ${sender === \"me\" ? \"items-end\" : \"items-start\"} w-full px-2`}>\r\n+      {/* Sender and Timestamp */}\r\n       <div className=\"flex items-center gap-2 text-xs mb-1 text-neutral-500 dark:text-neutral-400\">\r\n         <span>{sender === \"me\" ? \"You\" : \"Stranger\"}</span>\r\n         <span className=\"text-[10px]\">{time}</span>\r\n       </div>\r\n \r\n+      {/* Message bubble */}\r\n       <div\r\n-        className={`relative group px-4 py-2 rounded-lg text-sm break-words shadow ${\r\n+        className={`relative group px-4 py-2 rounded-lg text-sm break-words shadow-md ${\r\n           sender === \"me\"\r\n             ? \"bg-blue-600 text-white rounded-br-none\"\r\n             : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-none\"\r\n         } max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}\r\n       >\r\n-        {/* Editable Text */}\r\n         {isEditing ? (\r\n           <div className=\"flex flex-col gap-1\">\r\n             <input\r\n-              className=\"text-black px-2 py-1 rounded text-sm\"\r\n+              className=\"text-black px-2 py-1 rounded text-sm border border-gray-300 focus:outline-none focus:ring focus:ring-blue-500\"\r\n               value={editedContent}\r\n               onChange={(e) => setEditedContent(e.target.value)}\r\n             />\r\n-            <div className=\"flex gap-2 justify-end text-xs\">\r\n+            <div className=\"flex gap-2 justify-end text-xs mt-1\">\r\n               <button onClick={handleEditSubmit} className=\"text-green-500\">Save</button>\r\n               <button onClick={() => setIsEditing(false)} className=\"text-red-500\">Cancel</button>\r\n             </div>\r\n           </div>\r\n         ) : (\r\n           <>\r\n-            {type === \"text\" ? content : renderMedia()}\r\n+            {renderMedia()}\r\n+\r\n             {/* Reactions */}\r\n             {Object.values(reactions).length > 0 && (\r\n-              <div className=\"mt-1 flex gap-1 text-lg\">\r\n-                {Object.values(reactions).map((r, i) => (\r\n-                  <span key={i}>{r}</span>\r\n+              <div className=\"mt-1 flex gap-1 text-lg flex-wrap\">\r\n+                {Object.values(reactions).map((emoji, index) => (\r\n+                  <span key={index}>{emoji}</span>\r\n                 ))}\r\n               </div>\r\n             )}\r\n           </>\r\n         )}\r\n \r\n         {/* Action buttons (edit/delete/react) only for \"me\" */}\r\n         {sender === \"me\" && !isEditing && (\r\n-          <div className=\"absolute right-0 top-0 hidden group-hover:flex gap-2 px-2 py-1 text-xs text-white\">\r\n-            {onEdit && <button onClick={() => setIsEditing(true)}>âœï¸</button>}\r\n-            {onDelete && <button onClick={onDelete}>ğŸ—‘ï¸</button>}\r\n-            {onReact && <button onClick={() => setShowReactions(!showReactions)}>â¤ï¸</button>}\r\n+          <div className=\"absolute top-1 right-1 hidden group-hover:flex gap-1 text-white text-sm z-10\">\r\n+            {onEdit && <button onClick={() => setIsEditing(true)} title=\"Edit\">âœï¸</button>}\r\n+            {onDelete && <button onClick={onDelete} title=\"Delete\">ğŸ—‘ï¸</button>}\r\n+            {onReact && <button onClick={() => setShowReactions((s) => !s)} title=\"React\">ğŸ˜Š</button>}\r\n           </div>\r\n         )}\r\n \r\n-        {/* Reaction Picker */}\r\n+        {/* Emoji Reaction Picker */}\r\n         {showReactions && (\r\n-          <div className=\"absolute z-50 top-full mt-1 right-0\">\r\n+          <div className=\"absolute z-50 top-full right-0 mt-2\">\r\n             <Picker\r\n               data={data}\r\n               theme=\"auto\"\r\n               onEmojiSelect={(e: any) => {\r\n@@ -115,16 +137,12 @@\n           </div>\r\n         )}\r\n       </div>\r\n \r\n-      {/* Message Status (Only for \"me\") */}\r\n+      {/* Seen / Delivered Status */}\r\n       {sender === \"me\" && status && (\r\n         <div className=\"text-[10px] text-right text-neutral-400 mt-1\">\r\n-          {status === \"seen\"\r\n-            ? \"Seen âœ…\"\r\n-            : status === \"delivered\"\r\n-            ? \"Delivered âœ”ï¸\"\r\n-            : \"Sent\"}\r\n+          {status === \"seen\" ? \"Seen âœ…\" : status === \"delivered\" ? \"Delivered âœ”ï¸\" : \"Sent\"}\r\n         </div>\r\n       )}\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1752321128536,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,33 +87,34 @@\n             : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-none\"\r\n         } max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}\r\n       >\r\n         {isEditing ? (\r\n-          <div className=\"flex flex-col gap-1\">\r\n-            <input\r\n-              className=\"text-black px-2 py-1 rounded text-sm border border-gray-300 focus:outline-none focus:ring focus:ring-blue-500\"\r\n-              value={editedContent}\r\n-              onChange={(e) => setEditedContent(e.target.value)}\r\n-            />\r\n-            <div className=\"flex gap-2 justify-end text-xs mt-1\">\r\n-              <button onClick={handleEditSubmit} className=\"text-green-500\">Save</button>\r\n-              <button onClick={() => setIsEditing(false)} className=\"text-red-500\">Cancel</button>\r\n-            </div>\r\n-          </div>\r\n-        ) : (\r\n-          <>\r\n-            {renderMedia()}\r\n+  <div className=\"flex flex-col gap-1\">\r\n+    <input\r\n+      type=\"text\"\r\n+      className=\"text-black px-2 py-1 rounded text-sm border border-gray-300 focus:outline-none focus:ring focus:ring-blue-500\"\r\n+      value={editedContent}\r\n+      onChange={(e) => setEditedContent(e.target.value)}\r\n+    />\r\n+    <div className=\"flex gap-2 justify-end text-xs mt-1\">\r\n+      <button onClick={handleEditSubmit} className=\"text-green-500\">Save</button>\r\n+      <button onClick={() => setIsEditing(false)} className=\"text-red-500\">Cancel</button>\r\n+    </div>\r\n+  </div>\r\n+) : (\r\n+  <>\r\n+    {type === \"text\" ? content : renderMedia()}\r\n+    {/* Reactions */}\r\n+    {Object.values(reactions).length > 0 && (\r\n+      <div className=\"mt-1 flex gap-1 text-lg flex-wrap\">\r\n+        {Object.values(reactions).map((emoji, index) => (\r\n+          <span key={index}>{emoji}</span>\r\n+        ))}\r\n+      </div>\r\n+    )}\r\n+  </>\r\n+)}\r\n \r\n-            {/* Reactions */}\r\n-            {Object.values(reactions).length > 0 && (\r\n-              <div className=\"mt-1 flex gap-1 text-lg flex-wrap\">\r\n-                {Object.values(reactions).map((emoji, index) => (\r\n-                  <span key={index}>{emoji}</span>\r\n-                ))}\r\n-              </div>\r\n-            )}\r\n-          </>\r\n-        )}\r\n \r\n         {/* Action buttons (edit/delete/react) only for \"me\" */}\r\n         {sender === \"me\" && !isEditing && (\r\n           <div className=\"absolute top-1 right-1 hidden group-hover:flex gap-1 text-white text-sm z-10\">\r\n"
                },
                {
                    "date": 1752321226586,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -88,22 +88,44 @@\n         } max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}\r\n       >\r\n         {isEditing ? (\r\n   <div className=\"flex flex-col gap-1\">\r\n+{isEditing ? (\r\n+  <div className=\"flex flex-col gap-1\">\r\n     <input\r\n-      type=\"text\"\r\n+      type=\"text\" // âœ… Required to prevent React error\r\n       className=\"text-black px-2 py-1 rounded text-sm border border-gray-300 focus:outline-none focus:ring focus:ring-blue-500\"\r\n       value={editedContent}\r\n       onChange={(e) => setEditedContent(e.target.value)}\r\n+      autoFocus // Optional: puts focus on input when editing starts\r\n     />\r\n     <div className=\"flex gap-2 justify-end text-xs mt-1\">\r\n-      <button onClick={handleEditSubmit} className=\"text-green-500\">Save</button>\r\n-      <button onClick={() => setIsEditing(false)} className=\"text-red-500\">Cancel</button>\r\n+      <button\r\n+        onClick={handleEditSubmit}\r\n+        className=\"text-green-600 hover:underline\"\r\n+      >\r\n+        Save\r\n+      </button>\r\n+      <button\r\n+        onClick={() => {\r\n+          setEditedContent(content); // reset input\r\n+          setIsEditing(false);\r\n+        }}\r\n+        className=\"text-red-500 hover:underline\"\r\n+      >\r\n+        Cancel\r\n+      </button>\r\n     </div>\r\n   </div>\r\n ) : (\r\n   <>\r\n-    {type === \"text\" ? content : renderMedia()}\r\n+    {/* Message content */}\r\n+    {type === \"text\" ? (\r\n+      <span>{content}</span>\r\n+    ) : (\r\n+      renderMedia()\r\n+    )}\r\n+\r\n     {/* Reactions */}\r\n     {Object.values(reactions).length > 0 && (\r\n       <div className=\"mt-1 flex gap-1 text-lg flex-wrap\">\r\n         {Object.values(reactions).map((emoji, index) => (\r\n@@ -114,8 +136,9 @@\n   </>\r\n )}\r\n \r\n \r\n+\r\n         {/* Action buttons (edit/delete/react) only for \"me\" */}\r\n         {sender === \"me\" && !isEditing && (\r\n           <div className=\"absolute top-1 right-1 hidden group-hover:flex gap-1 text-white text-sm z-10\">\r\n             {onEdit && <button onClick={() => setIsEditing(true)} title=\"Edit\">âœï¸</button>}\r\n"
                },
                {
                    "date": 1752321258576,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -88,10 +88,8 @@\n         } max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}\r\n       >\r\n         {isEditing ? (\r\n   <div className=\"flex flex-col gap-1\">\r\n-{isEditing ? (\r\n-  <div className=\"flex flex-col gap-1\">\r\n     <input\r\n       type=\"text\" // âœ… Required to prevent React error\r\n       className=\"text-black px-2 py-1 rounded text-sm border border-gray-300 focus:outline-none focus:ring focus:ring-blue-500\"\r\n       value={editedContent}\r\n@@ -135,10 +133,8 @@\n     )}\r\n   </>\r\n )}\r\n \r\n-\r\n-\r\n         {/* Action buttons (edit/delete/react) only for \"me\" */}\r\n         {sender === \"me\" && !isEditing && (\r\n           <div className=\"absolute top-1 right-1 hidden group-hover:flex gap-1 text-white text-sm z-10\">\r\n             {onEdit && <button onClick={() => setIsEditing(true)} title=\"Edit\">âœï¸</button>}\r\n"
                },
                {
                    "date": 1752323120006,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -94,8 +94,10 @@\n       className=\"text-black px-2 py-1 rounded text-sm border border-gray-300 focus:outline-none focus:ring focus:ring-blue-500\"\r\n       value={editedContent}\r\n       onChange={(e) => setEditedContent(e.target.value)}\r\n       autoFocus // Optional: puts focus on input when editing starts\r\n+      placeholder=\"Edit your message\"\r\n+      title=\"Edit message input\"\r\n     />\r\n     <div className=\"flex gap-2 justify-end text-xs mt-1\">\r\n       <button\r\n         onClick={handleEditSubmit}\r\n"
                },
                {
                    "date": 1752323773811,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n \"use client\";\r\n \r\n import React, { useState } from \"react\";\r\n-import Picker from \"@emoji-mart/react\";\r\n-import data from \"@emoji-mart/data\";\r\n+import Picker from 'emoji-mart'\r\n+import data from '@emoji-mart/data'\r\n \r\n interface MessageProps {\r\n   id: string;\r\n   sender: \"me\" | \"partner\";\r\n"
                },
                {
                    "date": 1752323857037,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -146,19 +146,19 @@\n         )}\r\n \r\n         {/* Emoji Reaction Picker */}\r\n         {showReactions && (\r\n-          <div className=\"absolute z-50 top-full right-0 mt-2\">\r\n-            <Picker\r\n-              data={data}\r\n-              theme=\"auto\"\r\n-              onEmojiSelect={(e: any) => {\r\n-                onReact?.(e.native);\r\n-                setShowReactions(false);\r\n-              }}\r\n-            />\r\n-          </div>\r\n-        )}\r\n+  <div className=\"absolute z-50 top-full right-0 mt-2\">\r\n+    <Picker\r\n+      data={data}\r\n+      theme=\"auto\"\r\n+      onEmojiSelect={(emoji: any) => {\r\n+        onReact?.(emoji.native);\r\n+        setShowReactions(false);\r\n+      }}\r\n+    />\r\n+  </div>\r\n+)}\r\n       </div>\r\n \r\n       {/* Seen / Delivered Status */}\r\n       {sender === \"me\" && status && (\r\n"
                },
                {
                    "date": 1752323893544,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n \"use client\";\r\n \r\n import React, { useState } from \"react\";\r\n-import Picker from 'emoji-mart'\r\n+import { Picker } from 'emoji-mart'\r\n import data from '@emoji-mart/data'\r\n \r\n interface MessageProps {\r\n   id: string;\r\n"
                },
                {
                    "date": 1752323910246,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -157,8 +157,9 @@\n       }}\r\n     />\r\n   </div>\r\n )}\r\n+\r\n       </div>\r\n \r\n       {/* Seen / Delivered Status */}\r\n       {sender === \"me\" && status && (\r\n"
                },
                {
                    "date": 1752323970960,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n \"use client\";\r\n \r\n import React, { useState } from \"react\";\r\n-import { Picker } from 'emoji-mart'\r\n+import Picker from 'emoji-mart'\r\n import data from '@emoji-mart/data'\r\n \r\n interface MessageProps {\r\n   id: string;\r\n@@ -157,9 +157,8 @@\n       }}\r\n     />\r\n   </div>\r\n )}\r\n-\r\n       </div>\r\n \r\n       {/* Seen / Delivered Status */}\r\n       {sender === \"me\" && status && (\r\n"
                },
                {
                    "date": 1752324023920,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n \"use client\";\r\n \r\n import React, { useState } from \"react\";\r\n-import Picker from 'emoji-mart'\r\n-import data from '@emoji-mart/data'\r\n+import { Picker } from \"emoji-mart\"; // âœ… CORRECT way for emoji-mart v5+\r\n+import data from \"@emoji-mart/data\";\r\n \r\n interface MessageProps {\r\n   id: string;\r\n   sender: \"me\" | \"partner\";\r\n@@ -11,10 +11,8 @@\n   timestamp: string;\r\n   status?: \"sent\" | \"delivered\" | \"seen\";\r\n   type?: \"text\" | \"image\" | \"audio\" | \"video\";\r\n   reactions?: { [userId: string]: string };\r\n-\r\n-  // Action handlers from ChatBox\r\n   onDelete?: () => void;\r\n   onEdit?: (newContent: string) => void;\r\n   onReact?: (reaction: string) => void;\r\n }\r\n@@ -71,100 +69,115 @@\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className={`flex flex-col ${sender === \"me\" ? \"items-end\" : \"items-start\"} w-full px-2`}>\r\n+    <div\r\n+      className={`flex flex-col ${\r\n+        sender === \"me\" ? \"items-end\" : \"items-start\"\r\n+      } w-full px-2`}\r\n+    >\r\n       {/* Sender and Timestamp */}\r\n       <div className=\"flex items-center gap-2 text-xs mb-1 text-neutral-500 dark:text-neutral-400\">\r\n         <span>{sender === \"me\" ? \"You\" : \"Stranger\"}</span>\r\n         <span className=\"text-[10px]\">{time}</span>\r\n       </div>\r\n \r\n-      {/* Message bubble */}\r\n+      {/* Message Bubble */}\r\n       <div\r\n         className={`relative group px-4 py-2 rounded-lg text-sm break-words shadow-md ${\r\n           sender === \"me\"\r\n             ? \"bg-blue-600 text-white rounded-br-none\"\r\n             : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-none\"\r\n         } max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}\r\n       >\r\n         {isEditing ? (\r\n-  <div className=\"flex flex-col gap-1\">\r\n-    <input\r\n-      type=\"text\" // âœ… Required to prevent React error\r\n-      className=\"text-black px-2 py-1 rounded text-sm border border-gray-300 focus:outline-none focus:ring focus:ring-blue-500\"\r\n-      value={editedContent}\r\n-      onChange={(e) => setEditedContent(e.target.value)}\r\n-      autoFocus // Optional: puts focus on input when editing starts\r\n-      placeholder=\"Edit your message\"\r\n-      title=\"Edit message input\"\r\n-    />\r\n-    <div className=\"flex gap-2 justify-end text-xs mt-1\">\r\n-      <button\r\n-        onClick={handleEditSubmit}\r\n-        className=\"text-green-600 hover:underline\"\r\n-      >\r\n-        Save\r\n-      </button>\r\n-      <button\r\n-        onClick={() => {\r\n-          setEditedContent(content); // reset input\r\n-          setIsEditing(false);\r\n-        }}\r\n-        className=\"text-red-500 hover:underline\"\r\n-      >\r\n-        Cancel\r\n-      </button>\r\n-    </div>\r\n-  </div>\r\n-) : (\r\n-  <>\r\n-    {/* Message content */}\r\n-    {type === \"text\" ? (\r\n-      <span>{content}</span>\r\n-    ) : (\r\n-      renderMedia()\r\n-    )}\r\n+          <div className=\"flex flex-col gap-1\">\r\n+            <input\r\n+              type=\"text\"\r\n+              className=\"text-black px-2 py-1 rounded text-sm border border-gray-300 focus:outline-none focus:ring focus:ring-blue-500\"\r\n+              value={editedContent}\r\n+              onChange={(e) => setEditedContent(e.target.value)}\r\n+              autoFocus\r\n+              placeholder=\"Edit your message\"\r\n+            />\r\n+            <div className=\"flex gap-2 justify-end text-xs mt-1\">\r\n+              <button\r\n+                onClick={handleEditSubmit}\r\n+                className=\"text-green-600 hover:underline\"\r\n+              >\r\n+                Save\r\n+              </button>\r\n+              <button\r\n+                onClick={() => {\r\n+                  setEditedContent(content);\r\n+                  setIsEditing(false);\r\n+                }}\r\n+                className=\"text-red-500 hover:underline\"\r\n+              >\r\n+                Cancel\r\n+              </button>\r\n+            </div>\r\n+          </div>\r\n+        ) : (\r\n+          <>\r\n+            {type === \"text\" ? <span>{content}</span> : renderMedia()}\r\n+            {Object.values(reactions).length > 0 && (\r\n+              <div className=\"mt-1 flex gap-1 text-lg flex-wrap\">\r\n+                {Object.values(reactions).map((emoji, index) => (\r\n+                  <span key={index}>{emoji}</span>\r\n+                ))}\r\n+              </div>\r\n+            )}\r\n+          </>\r\n+        )}\r\n \r\n-    {/* Reactions */}\r\n-    {Object.values(reactions).length > 0 && (\r\n-      <div className=\"mt-1 flex gap-1 text-lg flex-wrap\">\r\n-        {Object.values(reactions).map((emoji, index) => (\r\n-          <span key={index}>{emoji}</span>\r\n-        ))}\r\n-      </div>\r\n-    )}\r\n-  </>\r\n-)}\r\n-\r\n-        {/* Action buttons (edit/delete/react) only for \"me\" */}\r\n+        {/* Action Buttons (edit/delete/react) */}\r\n         {sender === \"me\" && !isEditing && (\r\n           <div className=\"absolute top-1 right-1 hidden group-hover:flex gap-1 text-white text-sm z-10\">\r\n-            {onEdit && <button onClick={() => setIsEditing(true)} title=\"Edit\">âœï¸</button>}\r\n-            {onDelete && <button onClick={onDelete} title=\"Delete\">ğŸ—‘ï¸</button>}\r\n-            {onReact && <button onClick={() => setShowReactions((s) => !s)} title=\"React\">ğŸ˜Š</button>}\r\n+            {onEdit && (\r\n+              <button onClick={() => setIsEditing(true)} title=\"Edit\">\r\n+                âœï¸\r\n+              </button>\r\n+            )}\r\n+            {onDelete && (\r\n+              <button onClick={onDelete} title=\"Delete\">\r\n+                ğŸ—‘ï¸\r\n+              </button>\r\n+            )}\r\n+            {onReact && (\r\n+              <button\r\n+                onClick={() => setShowReactions((s) => !s)}\r\n+                title=\"React\"\r\n+              >\r\n+                ğŸ˜Š\r\n+              </button>\r\n+            )}\r\n           </div>\r\n         )}\r\n \r\n-        {/* Emoji Reaction Picker */}\r\n+        {/* âœ… Emoji Picker */}\r\n         {showReactions && (\r\n-  <div className=\"absolute z-50 top-full right-0 mt-2\">\r\n-    <Picker\r\n-      data={data}\r\n-      theme=\"auto\"\r\n-      onEmojiSelect={(emoji: any) => {\r\n-        onReact?.(emoji.native);\r\n-        setShowReactions(false);\r\n-      }}\r\n-    />\r\n-  </div>\r\n-)}\r\n+          <div className=\"absolute z-50 top-full right-0 mt-2\">\r\n+            <Picker\r\n+              data={data}\r\n+              theme=\"auto\"\r\n+              onEmojiSelect={(emoji: any) => {\r\n+                onReact?.(emoji.native);\r\n+                setShowReactions(false);\r\n+              }}\r\n+            />\r\n+          </div>\r\n+        )}\r\n       </div>\r\n \r\n-      {/* Seen / Delivered Status */}\r\n+      {/* Status */}\r\n       {sender === \"me\" && status && (\r\n         <div className=\"text-[10px] text-right text-neutral-400 mt-1\">\r\n-          {status === \"seen\" ? \"Seen âœ…\" : status === \"delivered\" ? \"Delivered âœ”ï¸\" : \"Sent\"}\r\n+          {status === \"seen\"\r\n+            ? \"Seen âœ…\"\r\n+            : status === \"delivered\"\r\n+            ? \"Delivered âœ”ï¸\"\r\n+            : \"Sent\"}\r\n         </div>\r\n       )}\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1752324253537,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n \"use client\";\r\n \r\n import React, { useState } from \"react\";\r\n-import { Picker } from \"emoji-mart\"; // âœ… CORRECT way for emoji-mart v5+\r\n+import Picker from \"emoji-mart\";\r\n import data from \"@emoji-mart/data\";\r\n \r\n interface MessageProps {\r\n   id: string;\r\n"
                },
                {
                    "date": 1752324318304,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n \"use client\";\r\n \r\n import React, { useState } from \"react\";\r\n-import Picker from \"emoji-mart\";\r\n+import { Picker } from \"emoji-mart\"; // âœ… CORRECT\r\n import data from \"@emoji-mart/data\";\r\n \r\n interface MessageProps {\r\n   id: string;\r\n"
                },
                {
                    "date": 1752324391757,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -155,19 +155,20 @@\n         )}\r\n \r\n         {/* âœ… Emoji Picker */}\r\n         {showReactions && (\r\n-          <div className=\"absolute z-50 top-full right-0 mt-2\">\r\n-            <Picker\r\n-              data={data}\r\n-              theme=\"auto\"\r\n-              onEmojiSelect={(emoji: any) => {\r\n-                onReact?.(emoji.native);\r\n-                setShowReactions(false);\r\n-              }}\r\n-            />\r\n-          </div>\r\n-        )}\r\n+  <div className=\"absolute z-50 top-full right-0 mt-2\">\r\n+    <Picker\r\n+      data={data}\r\n+      theme=\"auto\"\r\n+      onEmojiSelect={(emoji: any) => {\r\n+        onReact?.(emoji.native);\r\n+        setShowReactions(false);\r\n+      }}\r\n+    />\r\n+  </div>\r\n+)}\r\n+\r\n       </div>\r\n \r\n       {/* Status */}\r\n       {sender === \"me\" && status && (\r\n"
                },
                {
                    "date": 1752325042483,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,11 @@\n \"use client\";\r\n \r\n import React, { useState } from \"react\";\r\n-import { Picker } from \"emoji-mart\"; // âœ… CORRECT\r\n+import * as EmojiMart from \"emoji-mart\";\r\n import data from \"@emoji-mart/data\";\r\n \r\n+\r\n interface MessageProps {\r\n   id: string;\r\n   sender: \"me\" | \"partner\";\r\n   content: string;\r\n"
                },
                {
                    "date": 1752325147071,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -157,16 +157,17 @@\n \r\n         {/* âœ… Emoji Picker */}\r\n         {showReactions && (\r\n   <div className=\"absolute z-50 top-full right-0 mt-2\">\r\n-    <Picker\r\n-      data={data}\r\n-      theme=\"auto\"\r\n-      onEmojiSelect={(emoji: any) => {\r\n-        onReact?.(emoji.native);\r\n-        setShowReactions(false);\r\n-      }}\r\n-    />\r\n+    <EmojiMart.Picker\r\n+  data={data}\r\n+  theme=\"auto\"\r\n+  onEmojiSelect={(emoji: any) => {\r\n+    onReact?.(emoji.native);\r\n+    setShowReactions(false);\r\n+  }}\r\n+/>\r\n+\r\n   </div>\r\n )}\r\n \r\n       </div>\r\n"
                },
                {
                    "date": 1752325196139,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n \"use client\";\r\n \r\n import React, { useState } from \"react\";\r\n-import * as EmojiMart from \"emoji-mart\";\r\n+import dynamic from \"next/dynamic\";\r\n import data from \"@emoji-mart/data\";\r\n \r\n \r\n interface MessageProps {\r\n"
                },
                {
                    "date": 1752325305922,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,12 @@\n import React, { useState } from \"react\";\r\n import dynamic from \"next/dynamic\";\r\n import data from \"@emoji-mart/data\";\r\n \r\n+// âœ… Dynamically import emoji-mart Picker to fix JSX issues with TS + bundler\r\n+const Picker = dynamic(() => import(\"emoji-mart\").then(mod => mod.Picker), {\r\n+  ssr: false,\r\n+});\r\n \r\n interface MessageProps {\r\n   id: string;\r\n   sender: \"me\" | \"partner\";\r\n@@ -130,9 +134,9 @@\n             )}\r\n           </>\r\n         )}\r\n \r\n-        {/* Action Buttons (edit/delete/react) */}\r\n+        {/* Action Buttons */}\r\n         {sender === \"me\" && !isEditing && (\r\n           <div className=\"absolute top-1 right-1 hidden group-hover:flex gap-1 text-white text-sm z-10\">\r\n             {onEdit && (\r\n               <button onClick={() => setIsEditing(true)} title=\"Edit\">\r\n@@ -154,26 +158,24 @@\n             )}\r\n           </div>\r\n         )}\r\n \r\n-        {/* âœ… Emoji Picker */}\r\n+        {/* âœ… Emoji Picker (Fixed JSX issue) */}\r\n         {showReactions && (\r\n-  <div className=\"absolute z-50 top-full right-0 mt-2\">\r\n-    <EmojiMart.Picker\r\n-  data={data}\r\n-  theme=\"auto\"\r\n-  onEmojiSelect={(emoji: any) => {\r\n-    onReact?.(emoji.native);\r\n-    setShowReactions(false);\r\n-  }}\r\n-/>\r\n-\r\n-  </div>\r\n-)}\r\n-\r\n+          <div className=\"absolute z-50 top-full right-0 mt-2\">\r\n+            <Picker\r\n+              data={data}\r\n+              theme=\"auto\"\r\n+              onEmojiSelect={(emoji: any) => {\r\n+                onReact?.(emoji.native);\r\n+                setShowReactions(false);\r\n+              }}\r\n+            />\r\n+          </div>\r\n+        )}\r\n       </div>\r\n \r\n-      {/* Status */}\r\n+      {/* Message Status */}\r\n       {sender === \"me\" && status && (\r\n         <div className=\"text-[10px] text-right text-neutral-400 mt-1\">\r\n           {status === \"seen\"\r\n             ? \"Seen âœ…\"\r\n"
                },
                {
                    "date": 1752325732454,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,15 +1,8 @@\n \"use client\";\r\n \r\n import React, { useState } from \"react\";\r\n-import dynamic from \"next/dynamic\";\r\n-import data from \"@emoji-mart/data\";\r\n \r\n-// âœ… Dynamically import emoji-mart Picker to fix JSX issues with TS + bundler\r\n-const Picker = dynamic(() => import(\"emoji-mart\").then(mod => mod.Picker), {\r\n-  ssr: false,\r\n-});\r\n-\r\n interface MessageProps {\r\n   id: string;\r\n   sender: \"me\" | \"partner\";\r\n   content: string;\r\n@@ -21,8 +14,10 @@\n   onEdit?: (newContent: string) => void;\r\n   onReact?: (reaction: string) => void;\r\n }\r\n \r\n+const topEmojis = [\"ğŸ˜‚\", \"â¤ï¸\", \"ğŸ”¥\", \"ğŸ‘\", \"ğŸ˜­\", \"ğŸ˜\", \"ğŸ˜Š\", \"ğŸ˜’\", \"ğŸ˜\", \"ğŸ¤”\", \"ğŸ™Œ\", \"ğŸ¥º\", \"ğŸ¤¯\", \"ğŸ‰\", \"ğŸ’€\", \"ğŸ˜©\", \"ğŸ˜¡\", \"ğŸ¥µ\", \"ğŸ˜‡\", \"ğŸ’–\"];\r\n+\r\n export default function Message({\r\n   sender,\r\n   content,\r\n   timestamp,\r\n@@ -158,24 +153,28 @@\n             )}\r\n           </div>\r\n         )}\r\n \r\n-        {/* âœ… Emoji Picker (Fixed JSX issue) */}\r\n+        {/* âœ… Emoji Bar */}\r\n         {showReactions && (\r\n-          <div className=\"absolute z-50 top-full right-0 mt-2\">\r\n-            <Picker\r\n-              data={data}\r\n-              theme=\"auto\"\r\n-              onEmojiSelect={(emoji: any) => {\r\n-                onReact?.(emoji.native);\r\n-                setShowReactions(false);\r\n-              }}\r\n-            />\r\n+          <div className=\"absolute z-50 top-full right-0 mt-2 bg-white dark:bg-neutral-800 p-2 border rounded shadow flex flex-wrap gap-1 max-w-xs\">\r\n+            {topEmojis.map((emoji) => (\r\n+              <button\r\n+                key={emoji}\r\n+                onClick={() => {\r\n+                  onReact?.(emoji);\r\n+                  setShowReactions(false);\r\n+                }}\r\n+                className=\"text-xl hover:scale-110 transition-transform\"\r\n+              >\r\n+                {emoji}\r\n+              </button>\r\n+            ))}\r\n           </div>\r\n         )}\r\n       </div>\r\n \r\n-      {/* Message Status */}\r\n+      {/* Status */}\r\n       {sender === \"me\" && status && (\r\n         <div className=\"text-[10px] text-right text-neutral-400 mt-1\">\r\n           {status === \"seen\"\r\n             ? \"Seen âœ…\"\r\n"
                },
                {
                    "date": 1752336344334,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,194 @@\n+\"use client\";\r\n+\r\n+import React, { useState } from \"react\";\r\n+\r\n+interface MessageProps {\r\n+  id: string;\r\n+  sender: \"me\" | \"partner\";\r\n+  content: string;\r\n+  timestamp: string;\r\n+  status?: \"sent\" | \"delivered\" | \"seen\";\r\n+  type?: \"text\" | \"image\" | \"audio\" | \"video\";\r\n+  reactions?: { [userId: string]: string };\r\n+  onDelete?: () => void;\r\n+  onEdit?: (newContent: string) => void;\r\n+  onReact?: (reaction: string) => void;\r\n+}\r\n+\r\n+const topEmojis = [\r\n+  \"ğŸ˜‚\", \"â¤ï¸\", \"ğŸ”¥\", \"ğŸ‘\", \"ğŸ˜­\", \"ğŸ˜\", \"ğŸ˜Š\", \"ğŸ˜’\", \"ğŸ˜\", \"ğŸ¤”\",\r\n+  \"ğŸ™Œ\", \"ğŸ¥º\", \"ğŸ¤¯\", \"ğŸ‰\", \"ğŸ’€\", \"ğŸ˜©\", \"ğŸ˜¡\", \"ğŸ¥µ\", \"ğŸ˜‡\", \"ğŸ’–\",\r\n+];\r\n+\r\n+export default function Message({\r\n+  sender,\r\n+  content,\r\n+  timestamp,\r\n+  status,\r\n+  type = \"text\",\r\n+  reactions = {},\r\n+  onDelete,\r\n+  onEdit,\r\n+  onReact,\r\n+}: MessageProps) {\r\n+  const [isEditing, setIsEditing] = useState(false);\r\n+  const [editedContent, setEditedContent] = useState(content);\r\n+  const [showReactions, setShowReactions] = useState(false);\r\n+\r\n+  const isSender = sender === \"me\";\r\n+  const time = new Date(timestamp).toLocaleTimeString([], {\r\n+    hour: \"2-digit\",\r\n+    minute: \"2-digit\",\r\n+  });\r\n+\r\n+  const handleEditSubmit = () => {\r\n+    if (editedContent.trim()) {\r\n+      onEdit?.(editedContent.trim());\r\n+      setIsEditing(false);\r\n+    }\r\n+  };\r\n+\r\n+  const renderMedia = () => {\r\n+    switch (type) {\r\n+      case \"image\":\r\n+        return (\r\n+          <img\r\n+            src={content}\r\n+            alt=\"Image\"\r\n+            className=\"rounded max-w-xs mt-2 object-cover border border-gray-300 dark:border-gray-600\"\r\n+          />\r\n+        );\r\n+      case \"audio\":\r\n+        return <audio controls src={content} className=\"mt-2 w-full\" />;\r\n+      case \"video\":\r\n+        return (\r\n+          <video\r\n+            controls\r\n+            src={content}\r\n+            className=\"mt-2 w-full rounded max-h-64 object-cover\"\r\n+          />\r\n+        );\r\n+      default:\r\n+        return <p className=\"whitespace-pre-wrap break-words\">{content}</p>;\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className={`w-full flex ${isSender ? \"justify-end\" : \"justify-start\"} px-2`}>\r\n+      <div className=\"flex flex-col max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]\">\r\n+        {/* Sender Info */}\r\n+        <div className=\"text-xs mb-1 text-neutral-500 dark:text-neutral-400\">\r\n+          {isSender ? \"You\" : \"Stranger\"} â€¢ {time}\r\n+        </div>\r\n+\r\n+        {/* Message Bubble */}\r\n+        <div\r\n+          className={`relative group px-4 py-2 rounded-lg text-sm shadow-md ${\r\n+            isSender\r\n+              ? \"bg-blue-600 text-white rounded-br-none self-end\"\r\n+              : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-none self-start\"\r\n+          }`}\r\n+        >\r\n+          {isEditing ? (\r\n+            <div className=\"flex flex-col gap-1\">\r\n+              <input\r\n+                type=\"text\"\r\n+                className=\"text-black px-2 py-1 rounded text-sm border border-gray-300 focus:outline-none focus:ring focus:ring-blue-500\"\r\n+                value={editedContent}\r\n+                onChange={(e) => setEditedContent(e.target.value)}\r\n+                autoFocus\r\n+              />\r\n+              <div className=\"flex gap-2 justify-end text-xs mt-1\">\r\n+                <button\r\n+                  onClick={handleEditSubmit}\r\n+                  className=\"text-green-600 hover:underline\"\r\n+                >\r\n+                  Save\r\n+                </button>\r\n+                <button\r\n+                  onClick={() => {\r\n+                    setEditedContent(content);\r\n+                    setIsEditing(false);\r\n+                  }}\r\n+                  className=\"text-red-500 hover:underline\"\r\n+                >\r\n+                  Cancel\r\n+                </button>\r\n+              </div>\r\n+            </div>\r\n+          ) : (\r\n+            <>\r\n+              {type === \"text\" ? <span>{content}</span> : renderMedia()}\r\n+\r\n+              {/* Reactions */}\r\n+              {Object.values(reactions).length > 0 && (\r\n+                <div className=\"mt-1 flex gap-1 text-lg flex-wrap\">\r\n+                  {Object.values(reactions).map((emoji, idx) => (\r\n+                    <span key={idx}>{emoji}</span>\r\n+                  ))}\r\n+                </div>\r\n+              )}\r\n+            </>\r\n+          )}\r\n+\r\n+          {/* Action Buttons */}\r\n+          {isSender && !isEditing && (\r\n+            <div className=\"absolute top-1 right-1 hidden group-hover:flex gap-1 text-white text-sm z-10\">\r\n+              {onEdit && (\r\n+                <button onClick={() => setIsEditing(true)} title=\"Edit\">\r\n+                  âœï¸\r\n+                </button>\r\n+              )}\r\n+              {onDelete && (\r\n+                <button onClick={onDelete} title=\"Delete\">\r\n+                  ğŸ—‘ï¸\r\n+                </button>\r\n+              )}\r\n+              {onReact && (\r\n+                <button\r\n+                  onClick={() => setShowReactions((prev) => !prev)}\r\n+                  title=\"React\"\r\n+                >\r\n+                  ğŸ˜Š\r\n+                </button>\r\n+              )}\r\n+            </div>\r\n+          )}\r\n+\r\n+          {/* Emoji Reaction Picker */}\r\n+          {showReactions && (\r\n+            <div\r\n+              className={`absolute z-50 mt-2 bg-white dark:bg-neutral-800 p-2 border rounded shadow flex flex-wrap gap-1 max-w-xs ${\r\n+                isSender ? \"right-0\" : \"left-0\"\r\n+              } top-full`}\r\n+            >\r\n+              {topEmojis.map((emoji) => (\r\n+                <button\r\n+                  key={emoji}\r\n+                  onClick={() => {\r\n+                    onReact?.(emoji);\r\n+                    setShowReactions(false);\r\n+                  }}\r\n+                  className=\"text-xl hover:scale-110 transition-transform\"\r\n+                >\r\n+                  {emoji}\r\n+                </button>\r\n+              ))}\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+\r\n+        {/* Message Status */}\r\n+        {isSender && status && (\r\n+          <div className=\"text-[10px] text-right text-neutral-400 mt-1\">\r\n+            {status === \"seen\"\r\n+              ? \"Seen âœ…\"\r\n+              : status === \"delivered\"\r\n+              ? \"Delivered âœ”ï¸\"\r\n+              : \"Sent\"}\r\n+          </div>\r\n+        )}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1752336361264,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -96,8 +96,10 @@\n                 className=\"text-black px-2 py-1 rounded text-sm border border-gray-300 focus:outline-none focus:ring focus:ring-blue-500\"\r\n                 value={editedContent}\r\n                 onChange={(e) => setEditedContent(e.target.value)}\r\n                 autoFocus\r\n+                placeholder=\"Edit your message\"\r\n+                title=\"Edit message\"\r\n               />\r\n               <div className=\"flex gap-2 justify-end text-xs mt-1\">\r\n                 <button\r\n                   onClick={handleEditSubmit}\r\n@@ -191,192 +193,4 @@\n       </div>\r\n     </div>\r\n   );\r\n }\r\n-\"use client\";\r\n-\r\n-import React, { useState } from \"react\";\r\n-\r\n-interface MessageProps {\r\n-  id: string;\r\n-  sender: \"me\" | \"partner\";\r\n-  content: string;\r\n-  timestamp: string;\r\n-  status?: \"sent\" | \"delivered\" | \"seen\";\r\n-  type?: \"text\" | \"image\" | \"audio\" | \"video\";\r\n-  reactions?: { [userId: string]: string };\r\n-  onDelete?: () => void;\r\n-  onEdit?: (newContent: string) => void;\r\n-  onReact?: (reaction: string) => void;\r\n-}\r\n-\r\n-const topEmojis = [\"ğŸ˜‚\", \"â¤ï¸\", \"ğŸ”¥\", \"ğŸ‘\", \"ğŸ˜­\", \"ğŸ˜\", \"ğŸ˜Š\", \"ğŸ˜’\", \"ğŸ˜\", \"ğŸ¤”\", \"ğŸ™Œ\", \"ğŸ¥º\", \"ğŸ¤¯\", \"ğŸ‰\", \"ğŸ’€\", \"ğŸ˜©\", \"ğŸ˜¡\", \"ğŸ¥µ\", \"ğŸ˜‡\", \"ğŸ’–\"];\r\n-\r\n-export default function Message({\r\n-  sender,\r\n-  content,\r\n-  timestamp,\r\n-  status,\r\n-  type = \"text\",\r\n-  reactions = {},\r\n-  onDelete,\r\n-  onEdit,\r\n-  onReact,\r\n-}: MessageProps) {\r\n-  const [isEditing, setIsEditing] = useState(false);\r\n-  const [editedContent, setEditedContent] = useState(content);\r\n-  const [showReactions, setShowReactions] = useState(false);\r\n-\r\n-  const time = new Date(timestamp).toLocaleTimeString([], {\r\n-    hour: \"2-digit\",\r\n-    minute: \"2-digit\",\r\n-  });\r\n-\r\n-  const handleEditSubmit = () => {\r\n-    if (editedContent.trim()) {\r\n-      onEdit?.(editedContent.trim());\r\n-      setIsEditing(false);\r\n-    }\r\n-  };\r\n-\r\n-  const renderMedia = () => {\r\n-    switch (type) {\r\n-      case \"image\":\r\n-        return (\r\n-          <img\r\n-            src={content}\r\n-            alt=\"Image\"\r\n-            className=\"rounded max-w-xs mt-2 object-cover border border-gray-200 dark:border-gray-600\"\r\n-          />\r\n-        );\r\n-      case \"audio\":\r\n-        return <audio controls src={content} className=\"mt-2 w-full\" />;\r\n-      case \"video\":\r\n-        return (\r\n-          <video\r\n-            controls\r\n-            src={content}\r\n-            className=\"mt-2 w-full rounded max-h-64 object-cover\"\r\n-          />\r\n-        );\r\n-      default:\r\n-        return <p className=\"whitespace-pre-wrap\">{content}</p>;\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div\r\n-      className={`flex flex-col ${\r\n-        sender === \"me\" ? \"items-end\" : \"items-start\"\r\n-      } w-full px-2`}\r\n-    >\r\n-      {/* Sender and Timestamp */}\r\n-      <div className=\"flex items-center gap-2 text-xs mb-1 text-neutral-500 dark:text-neutral-400\">\r\n-        <span>{sender === \"me\" ? \"You\" : \"Stranger\"}</span>\r\n-        <span className=\"text-[10px]\">{time}</span>\r\n-      </div>\r\n-\r\n-      {/* Message Bubble */}\r\n-      <div\r\n-        className={`relative group px-4 py-2 rounded-lg text-sm break-words shadow-md ${\r\n-          sender === \"me\"\r\n-            ? \"bg-blue-600 text-white rounded-br-none\"\r\n-            : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-none\"\r\n-        } max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}\r\n-      >\r\n-        {isEditing ? (\r\n-          <div className=\"flex flex-col gap-1\">\r\n-            <input\r\n-              type=\"text\"\r\n-              className=\"text-black px-2 py-1 rounded text-sm border border-gray-300 focus:outline-none focus:ring focus:ring-blue-500\"\r\n-              value={editedContent}\r\n-              onChange={(e) => setEditedContent(e.target.value)}\r\n-              autoFocus\r\n-              placeholder=\"Edit your message\"\r\n-            />\r\n-            <div className=\"flex gap-2 justify-end text-xs mt-1\">\r\n-              <button\r\n-                onClick={handleEditSubmit}\r\n-                className=\"text-green-600 hover:underline\"\r\n-              >\r\n-                Save\r\n-              </button>\r\n-              <button\r\n-                onClick={() => {\r\n-                  setEditedContent(content);\r\n-                  setIsEditing(false);\r\n-                }}\r\n-                className=\"text-red-500 hover:underline\"\r\n-              >\r\n-                Cancel\r\n-              </button>\r\n-            </div>\r\n-          </div>\r\n-        ) : (\r\n-          <>\r\n-            {type === \"text\" ? <span>{content}</span> : renderMedia()}\r\n-            {Object.values(reactions).length > 0 && (\r\n-              <div className=\"mt-1 flex gap-1 text-lg flex-wrap\">\r\n-                {Object.values(reactions).map((emoji, index) => (\r\n-                  <span key={index}>{emoji}</span>\r\n-                ))}\r\n-              </div>\r\n-            )}\r\n-          </>\r\n-        )}\r\n-\r\n-        {/* Action Buttons */}\r\n-        {sender === \"me\" && !isEditing && (\r\n-          <div className=\"absolute top-1 right-1 hidden group-hover:flex gap-1 text-white text-sm z-10\">\r\n-            {onEdit && (\r\n-              <button onClick={() => setIsEditing(true)} title=\"Edit\">\r\n-                âœï¸\r\n-              </button>\r\n-            )}\r\n-            {onDelete && (\r\n-              <button onClick={onDelete} title=\"Delete\">\r\n-                ğŸ—‘ï¸\r\n-              </button>\r\n-            )}\r\n-            {onReact && (\r\n-              <button\r\n-                onClick={() => setShowReactions((s) => !s)}\r\n-                title=\"React\"\r\n-              >\r\n-                ğŸ˜Š\r\n-              </button>\r\n-            )}\r\n-          </div>\r\n-        )}\r\n-\r\n-        {/* âœ… Emoji Bar */}\r\n-        {showReactions && (\r\n-          <div className=\"absolute z-50 top-full right-0 mt-2 bg-white dark:bg-neutral-800 p-2 border rounded shadow flex flex-wrap gap-1 max-w-xs\">\r\n-            {topEmojis.map((emoji) => (\r\n-              <button\r\n-                key={emoji}\r\n-                onClick={() => {\r\n-                  onReact?.(emoji);\r\n-                  setShowReactions(false);\r\n-                }}\r\n-                className=\"text-xl hover:scale-110 transition-transform\"\r\n-              >\r\n-                {emoji}\r\n-              </button>\r\n-            ))}\r\n-          </div>\r\n-        )}\r\n-      </div>\r\n-\r\n-      {/* Status */}\r\n-      {sender === \"me\" && status && (\r\n-        <div className=\"text-[10px] text-right text-neutral-400 mt-1\">\r\n-          {status === \"seen\"\r\n-            ? \"Seen âœ…\"\r\n-            : status === \"delivered\"\r\n-            ? \"Delivered âœ”ï¸\"\r\n-            : \"Sent\"}\r\n-        </div>\r\n-      )}\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1752336655932,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,12 +14,9 @@\n   onEdit?: (newContent: string) => void;\r\n   onReact?: (reaction: string) => void;\r\n }\r\n \r\n-const topEmojis = [\r\n-  \"ğŸ˜‚\", \"â¤ï¸\", \"ğŸ”¥\", \"ğŸ‘\", \"ğŸ˜­\", \"ğŸ˜\", \"ğŸ˜Š\", \"ğŸ˜’\", \"ğŸ˜\", \"ğŸ¤”\",\r\n-  \"ğŸ™Œ\", \"ğŸ¥º\", \"ğŸ¤¯\", \"ğŸ‰\", \"ğŸ’€\", \"ğŸ˜©\", \"ğŸ˜¡\", \"ğŸ¥µ\", \"ğŸ˜‡\", \"ğŸ’–\",\r\n-];\r\n+const topEmojis = [\"ğŸ˜‚\", \"â¤ï¸\", \"ğŸ”¥\", \"ğŸ‘\", \"ğŸ˜­\", \"ğŸ˜\", \"ğŸ˜Š\", \"ğŸ˜’\", \"ğŸ˜\", \"ğŸ¤”\", \"ğŸ™Œ\", \"ğŸ¥º\", \"ğŸ¤¯\", \"ğŸ‰\", \"ğŸ’€\", \"ğŸ˜©\", \"ğŸ˜¡\", \"ğŸ¥µ\", \"ğŸ˜‡\", \"ğŸ’–\"];\r\n \r\n export default function Message({\r\n   sender,\r\n   content,\r\n@@ -50,44 +47,30 @@\n \r\n   const renderMedia = () => {\r\n     switch (type) {\r\n       case \"image\":\r\n-        return (\r\n-          <img\r\n-            src={content}\r\n-            alt=\"Image\"\r\n-            className=\"rounded max-w-xs mt-2 object-cover border border-gray-300 dark:border-gray-600\"\r\n-          />\r\n-        );\r\n+        return <img src={content} alt=\"Image\" className=\"rounded max-w-xs mt-2 object-cover border border-gray-300 dark:border-gray-600\" />;\r\n       case \"audio\":\r\n         return <audio controls src={content} className=\"mt-2 w-full\" />;\r\n       case \"video\":\r\n-        return (\r\n-          <video\r\n-            controls\r\n-            src={content}\r\n-            className=\"mt-2 w-full rounded max-h-64 object-cover\"\r\n-          />\r\n-        );\r\n+        return <video controls src={content} className=\"mt-2 w-full rounded max-h-64 object-cover\" />;\r\n       default:\r\n         return <p className=\"whitespace-pre-wrap break-words\">{content}</p>;\r\n     }\r\n   };\r\n \r\n   return (\r\n     <div className={`w-full flex ${isSender ? \"justify-end\" : \"justify-start\"} px-2`}>\r\n-      <div className=\"flex flex-col max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]\">\r\n-        {/* Sender Info */}\r\n+      <div className={`flex flex-col ${isSender ? \"items-end\" : \"items-start\"} max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}>\r\n         <div className=\"text-xs mb-1 text-neutral-500 dark:text-neutral-400\">\r\n           {isSender ? \"You\" : \"Stranger\"} â€¢ {time}\r\n         </div>\r\n \r\n-        {/* Message Bubble */}\r\n         <div\r\n           className={`relative group px-4 py-2 rounded-lg text-sm shadow-md ${\r\n             isSender\r\n-              ? \"bg-blue-600 text-white rounded-br-none self-end\"\r\n-              : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-none self-start\"\r\n+              ? \"bg-blue-600 text-white rounded-br-none\"\r\n+              : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-none\"\r\n           }`}\r\n         >\r\n           {isEditing ? (\r\n             <div className=\"flex flex-col gap-1\">\r\n@@ -96,34 +79,17 @@\n                 className=\"text-black px-2 py-1 rounded text-sm border border-gray-300 focus:outline-none focus:ring focus:ring-blue-500\"\r\n                 value={editedContent}\r\n                 onChange={(e) => setEditedContent(e.target.value)}\r\n                 autoFocus\r\n-                placeholder=\"Edit your message\"\r\n-                title=\"Edit message\"\r\n               />\r\n               <div className=\"flex gap-2 justify-end text-xs mt-1\">\r\n-                <button\r\n-                  onClick={handleEditSubmit}\r\n-                  className=\"text-green-600 hover:underline\"\r\n-                >\r\n-                  Save\r\n-                </button>\r\n-                <button\r\n-                  onClick={() => {\r\n-                    setEditedContent(content);\r\n-                    setIsEditing(false);\r\n-                  }}\r\n-                  className=\"text-red-500 hover:underline\"\r\n-                >\r\n-                  Cancel\r\n-                </button>\r\n+                <button onClick={handleEditSubmit} className=\"text-green-600 hover:underline\">Save</button>\r\n+                <button onClick={() => { setEditedContent(content); setIsEditing(false); }} className=\"text-red-500 hover:underline\">Cancel</button>\r\n               </div>\r\n             </div>\r\n           ) : (\r\n             <>\r\n               {type === \"text\" ? <span>{content}</span> : renderMedia()}\r\n-\r\n-              {/* Reactions */}\r\n               {Object.values(reactions).length > 0 && (\r\n                 <div className=\"mt-1 flex gap-1 text-lg flex-wrap\">\r\n                   {Object.values(reactions).map((emoji, idx) => (\r\n                     <span key={idx}>{emoji}</span>\r\n@@ -135,30 +101,15 @@\n \r\n           {/* Action Buttons */}\r\n           {isSender && !isEditing && (\r\n             <div className=\"absolute top-1 right-1 hidden group-hover:flex gap-1 text-white text-sm z-10\">\r\n-              {onEdit && (\r\n-                <button onClick={() => setIsEditing(true)} title=\"Edit\">\r\n-                  âœï¸\r\n-                </button>\r\n-              )}\r\n-              {onDelete && (\r\n-                <button onClick={onDelete} title=\"Delete\">\r\n-                  ğŸ—‘ï¸\r\n-                </button>\r\n-              )}\r\n-              {onReact && (\r\n-                <button\r\n-                  onClick={() => setShowReactions((prev) => !prev)}\r\n-                  title=\"React\"\r\n-                >\r\n-                  ğŸ˜Š\r\n-                </button>\r\n-              )}\r\n+              {onEdit && <button onClick={() => setIsEditing(true)} title=\"Edit\">âœï¸</button>}\r\n+              {onDelete && <button onClick={onDelete} title=\"Delete\">ğŸ—‘ï¸</button>}\r\n+              {onReact && <button onClick={() => setShowReactions((s) => !s)} title=\"React\">ğŸ˜Š</button>}\r\n             </div>\r\n           )}\r\n \r\n-          {/* Emoji Reaction Picker */}\r\n+          {/* Emoji Picker */}\r\n           {showReactions && (\r\n             <div\r\n               className={`absolute z-50 mt-2 bg-white dark:bg-neutral-800 p-2 border rounded shadow flex flex-wrap gap-1 max-w-xs ${\r\n                 isSender ? \"right-0\" : \"left-0\"\r\n@@ -179,16 +130,11 @@\n             </div>\r\n           )}\r\n         </div>\r\n \r\n-        {/* Message Status */}\r\n         {isSender && status && (\r\n           <div className=\"text-[10px] text-right text-neutral-400 mt-1\">\r\n-            {status === \"seen\"\r\n-              ? \"Seen âœ…\"\r\n-              : status === \"delivered\"\r\n-              ? \"Delivered âœ”ï¸\"\r\n-              : \"Sent\"}\r\n+            {status === \"seen\" ? \"Seen âœ…\" : status === \"delivered\" ? \"Delivered âœ”ï¸\" : \"Sent\"}\r\n           </div>\r\n         )}\r\n       </div>\r\n     </div>\r\n"
                },
                {
                    "date": 1752336680579,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,8 +79,10 @@\n                 className=\"text-black px-2 py-1 rounded text-sm border border-gray-300 focus:outline-none focus:ring focus:ring-blue-500\"\r\n                 value={editedContent}\r\n                 onChange={(e) => setEditedContent(e.target.value)}\r\n                 autoFocus\r\n+                placeholder=\"Edit your message\"\r\n+                aria-label=\"Edit message\"\r\n               />\r\n               <div className=\"flex gap-2 justify-end text-xs mt-1\">\r\n                 <button onClick={handleEditSubmit} className=\"text-green-600 hover:underline\">Save</button>\r\n                 <button onClick={() => { setEditedContent(content); setIsEditing(false); }} className=\"text-red-500 hover:underline\">Cancel</button>\r\n"
                },
                {
                    "date": 1752337656763,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,8 +32,9 @@\n   const [editedContent, setEditedContent] = useState(content);\r\n   const [showReactions, setShowReactions] = useState(false);\r\n \r\n   const isSender = sender === \"me\";\r\n+\r\n   const time = new Date(timestamp).toLocaleTimeString([], {\r\n     hour: \"2-digit\",\r\n     minute: \"2-digit\",\r\n   });\r\n@@ -58,31 +59,32 @@\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className={`w-full flex ${isSender ? \"justify-end\" : \"justify-start\"} px-2`}>\r\n-      <div className={`flex flex-col ${isSender ? \"items-end\" : \"items-start\"} max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}>\r\n-        <div className=\"text-xs mb-1 text-neutral-500 dark:text-neutral-400\">\r\n+    <div className={`w-full px-2 py-1 flex ${isSender ? \"justify-end\" : \"justify-start\"}`}>\r\n+      <div className={`flex flex-col gap-1 ${isSender ? \"items-end\" : \"items-start\"} max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}>\r\n+        {/* Sender & Timestamp */}\r\n+        <div className=\"text-xs text-neutral-500 dark:text-neutral-400 mb-1\">\r\n           {isSender ? \"You\" : \"Stranger\"} â€¢ {time}\r\n         </div>\r\n \r\n+        {/* Message Bubble */}\r\n         <div\r\n           className={`relative group px-4 py-2 rounded-lg text-sm shadow-md ${\r\n             isSender\r\n               ? \"bg-blue-600 text-white rounded-br-none\"\r\n               : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-none\"\r\n           }`}\r\n         >\r\n+          {/* Content or Editor */}\r\n           {isEditing ? (\r\n             <div className=\"flex flex-col gap-1\">\r\n               <input\r\n                 type=\"text\"\r\n                 className=\"text-black px-2 py-1 rounded text-sm border border-gray-300 focus:outline-none focus:ring focus:ring-blue-500\"\r\n                 value={editedContent}\r\n                 onChange={(e) => setEditedContent(e.target.value)}\r\n                 autoFocus\r\n-                placeholder=\"Edit your message\"\r\n-                aria-label=\"Edit message\"\r\n               />\r\n               <div className=\"flex gap-2 justify-end text-xs mt-1\">\r\n                 <button onClick={handleEditSubmit} className=\"text-green-600 hover:underline\">Save</button>\r\n                 <button onClick={() => { setEditedContent(content); setIsEditing(false); }} className=\"text-red-500 hover:underline\">Cancel</button>\r\n@@ -90,10 +92,12 @@\n             </div>\r\n           ) : (\r\n             <>\r\n               {type === \"text\" ? <span>{content}</span> : renderMedia()}\r\n+\r\n+              {/* Reactions */}\r\n               {Object.values(reactions).length > 0 && (\r\n-                <div className=\"mt-1 flex gap-1 text-lg flex-wrap\">\r\n+                <div className=\"mt-2 flex gap-1 text-lg flex-wrap\">\r\n                   {Object.values(reactions).map((emoji, idx) => (\r\n                     <span key={idx}>{emoji}</span>\r\n                   ))}\r\n                 </div>\r\n@@ -101,22 +105,24 @@\n             </>\r\n           )}\r\n \r\n           {/* Action Buttons */}\r\n-          {isSender && !isEditing && (\r\n-            <div className=\"absolute top-1 right-1 hidden group-hover:flex gap-1 text-white text-sm z-10\">\r\n-              {onEdit && <button onClick={() => setIsEditing(true)} title=\"Edit\">âœï¸</button>}\r\n-              {onDelete && <button onClick={onDelete} title=\"Delete\">ğŸ—‘ï¸</button>}\r\n+          {!isEditing && (\r\n+            <div\r\n+              className={`absolute top-1 ${isSender ? \"right-1 text-white\" : \"left-1 text-black dark:text-white\"} hidden group-hover:flex gap-1 text-sm z-10`}\r\n+            >\r\n+              {isSender && onEdit && <button onClick={() => setIsEditing(true)} title=\"Edit\">âœï¸</button>}\r\n+              {isSender && onDelete && <button onClick={onDelete} title=\"Delete\">ğŸ—‘ï¸</button>}\r\n               {onReact && <button onClick={() => setShowReactions((s) => !s)} title=\"React\">ğŸ˜Š</button>}\r\n             </div>\r\n           )}\r\n \r\n           {/* Emoji Picker */}\r\n           {showReactions && (\r\n             <div\r\n-              className={`absolute z-50 mt-2 bg-white dark:bg-neutral-800 p-2 border rounded shadow flex flex-wrap gap-1 max-w-xs ${\r\n+              className={`absolute top-full mt-2 z-50 bg-white dark:bg-neutral-800 p-2 border rounded shadow flex flex-wrap gap-1 max-w-xs ${\r\n                 isSender ? \"right-0\" : \"left-0\"\r\n-              } top-full`}\r\n+              }`}\r\n             >\r\n               {topEmojis.map((emoji) => (\r\n                 <button\r\n                   key={emoji}\r\n@@ -132,10 +138,11 @@\n             </div>\r\n           )}\r\n         </div>\r\n \r\n+        {/* Message Status */}\r\n         {isSender && status && (\r\n-          <div className=\"text-[10px] text-right text-neutral-400 mt-1\">\r\n+          <div className=\"text-[10px] text-neutral-400 mt-0.5\">\r\n             {status === \"seen\" ? \"Seen âœ…\" : status === \"delivered\" ? \"Delivered âœ”ï¸\" : \"Sent\"}\r\n           </div>\r\n         )}\r\n       </div>\r\n"
                },
                {
                    "date": 1752337678800,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,8 +83,9 @@\n                 className=\"text-black px-2 py-1 rounded text-sm border border-gray-300 focus:outline-none focus:ring focus:ring-blue-500\"\r\n                 value={editedContent}\r\n                 onChange={(e) => setEditedContent(e.target.value)}\r\n                 autoFocus\r\n+                placeholder=\"Edit your message\"\r\n               />\r\n               <div className=\"flex gap-2 justify-end text-xs mt-1\">\r\n                 <button onClick={handleEditSubmit} className=\"text-green-600 hover:underline\">Save</button>\r\n                 <button onClick={() => { setEditedContent(content); setIsEditing(false); }} className=\"text-red-500 hover:underline\">Cancel</button>\r\n"
                },
                {
                    "date": 1752340479962,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,12 @@\n   onEdit?: (newContent: string) => void;\r\n   onReact?: (reaction: string) => void;\r\n }\r\n \r\n-const topEmojis = [\"ğŸ˜‚\", \"â¤ï¸\", \"ğŸ”¥\", \"ğŸ‘\", \"ğŸ˜­\", \"ğŸ˜\", \"ğŸ˜Š\", \"ğŸ˜’\", \"ğŸ˜\", \"ğŸ¤”\", \"ğŸ™Œ\", \"ğŸ¥º\", \"ğŸ¤¯\", \"ğŸ‰\", \"ğŸ’€\", \"ğŸ˜©\", \"ğŸ˜¡\", \"ğŸ¥µ\", \"ğŸ˜‡\", \"ğŸ’–\"];\r\n+const topEmojis = [\r\n+  \"ğŸ˜‚\", \"â¤ï¸\", \"ğŸ”¥\", \"ğŸ‘\", \"ğŸ˜­\", \"ğŸ˜\", \"ğŸ˜Š\", \"ğŸ˜’\", \"ğŸ˜\", \"ğŸ¤”\",\r\n+  \"ğŸ™Œ\", \"ğŸ¥º\", \"ğŸ¤¯\", \"ğŸ‰\", \"ğŸ’€\", \"ğŸ˜©\", \"ğŸ˜¡\", \"ğŸ¥µ\", \"ğŸ˜‡\", \"ğŸ’–\"\r\n+];\r\n \r\n export default function Message({\r\n   sender,\r\n   content,\r\n@@ -48,21 +51,37 @@\n \r\n   const renderMedia = () => {\r\n     switch (type) {\r\n       case \"image\":\r\n-        return <img src={content} alt=\"Image\" className=\"rounded max-w-xs mt-2 object-cover border border-gray-300 dark:border-gray-600\" />;\r\n+        return (\r\n+          <img\r\n+            src={content}\r\n+            alt=\"Image\"\r\n+            className=\"rounded max-w-xs mt-2 object-cover border border-gray-300 dark:border-gray-600\"\r\n+          />\r\n+        );\r\n       case \"audio\":\r\n         return <audio controls src={content} className=\"mt-2 w-full\" />;\r\n       case \"video\":\r\n-        return <video controls src={content} className=\"mt-2 w-full rounded max-h-64 object-cover\" />;\r\n+        return (\r\n+          <video\r\n+            controls\r\n+            src={content}\r\n+            className=\"mt-2 w-full rounded max-h-64 object-cover\"\r\n+          />\r\n+        );\r\n       default:\r\n         return <p className=\"whitespace-pre-wrap break-words\">{content}</p>;\r\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className={`w-full px-2 py-1 flex ${isSender ? \"justify-end\" : \"justify-start\"}`}>\r\n-      <div className={`flex flex-col gap-1 ${isSender ? \"items-end\" : \"items-start\"} max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}>\r\n+    <div className=\"w-full h-1/2 px-2 py-1 flex overflow-hidden\">\r\n+      <div\r\n+        className={`flex flex-col gap-1 ${\r\n+          isSender ? \"items-end ml-auto\" : \"items-start mr-auto\"\r\n+        } w-full max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}\r\n+      >\r\n         {/* Sender & Timestamp */}\r\n         <div className=\"text-xs text-neutral-500 dark:text-neutral-400 mb-1\">\r\n           {isSender ? \"You\" : \"Stranger\"} â€¢ {time}\r\n         </div>\r\n@@ -86,10 +105,23 @@\n                 autoFocus\r\n                 placeholder=\"Edit your message\"\r\n               />\r\n               <div className=\"flex gap-2 justify-end text-xs mt-1\">\r\n-                <button onClick={handleEditSubmit} className=\"text-green-600 hover:underline\">Save</button>\r\n-                <button onClick={() => { setEditedContent(content); setIsEditing(false); }} className=\"text-red-500 hover:underline\">Cancel</button>\r\n+                <button\r\n+                  onClick={handleEditSubmit}\r\n+                  className=\"text-green-600 hover:underline\"\r\n+                >\r\n+                  Save\r\n+                </button>\r\n+                <button\r\n+                  onClick={() => {\r\n+                    setEditedContent(content);\r\n+                    setIsEditing(false);\r\n+                  }}\r\n+                  className=\"text-red-500 hover:underline\"\r\n+                >\r\n+                  Cancel\r\n+                </button>\r\n               </div>\r\n             </div>\r\n           ) : (\r\n             <>\r\n@@ -108,13 +140,30 @@\n \r\n           {/* Action Buttons */}\r\n           {!isEditing && (\r\n             <div\r\n-              className={`absolute top-1 ${isSender ? \"right-1 text-white\" : \"left-1 text-black dark:text-white\"} hidden group-hover:flex gap-1 text-sm z-10`}\r\n+              className={`absolute top-1 ${\r\n+                isSender ? \"right-1 text-white\" : \"left-1 text-black dark:text-white\"\r\n+              } hidden group-hover:flex gap-1 text-sm z-10`}\r\n             >\r\n-              {isSender && onEdit && <button onClick={() => setIsEditing(true)} title=\"Edit\">âœï¸</button>}\r\n-              {isSender && onDelete && <button onClick={onDelete} title=\"Delete\">ğŸ—‘ï¸</button>}\r\n-              {onReact && <button onClick={() => setShowReactions((s) => !s)} title=\"React\">ğŸ˜Š</button>}\r\n+              {isSender && onEdit && (\r\n+                <button onClick={() => setIsEditing(true)} title=\"Edit\">\r\n+                  âœï¸\r\n+                </button>\r\n+              )}\r\n+              {isSender && onDelete && (\r\n+                <button onClick={onDelete} title=\"Delete\">\r\n+                  ğŸ—‘ï¸\r\n+                </button>\r\n+              )}\r\n+              {onReact && (\r\n+                <button\r\n+                  onClick={() => setShowReactions((s) => !s)}\r\n+                  title=\"React\"\r\n+                >\r\n+                  ğŸ˜Š\r\n+                </button>\r\n+              )}\r\n             </div>\r\n           )}\r\n \r\n           {/* Emoji Picker */}\r\n@@ -142,9 +191,13 @@\n \r\n         {/* Message Status */}\r\n         {isSender && status && (\r\n           <div className=\"text-[10px] text-neutral-400 mt-0.5\">\r\n-            {status === \"seen\" ? \"Seen âœ…\" : status === \"delivered\" ? \"Delivered âœ”ï¸\" : \"Sent\"}\r\n+            {status === \"seen\"\r\n+              ? \"Seen âœ…\"\r\n+              : status === \"delivered\"\r\n+              ? \"Delivered âœ”ï¸\"\r\n+              : \"Sent\"}\r\n           </div>\r\n         )}\r\n       </div>\r\n     </div>\r\n"
                },
                {
                    "date": 1752418404287,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,12 +14,9 @@\n   onEdit?: (newContent: string) => void;\r\n   onReact?: (reaction: string) => void;\r\n }\r\n \r\n-const topEmojis = [\r\n-  \"ğŸ˜‚\", \"â¤ï¸\", \"ğŸ”¥\", \"ğŸ‘\", \"ğŸ˜­\", \"ğŸ˜\", \"ğŸ˜Š\", \"ğŸ˜’\", \"ğŸ˜\", \"ğŸ¤”\",\r\n-  \"ğŸ™Œ\", \"ğŸ¥º\", \"ğŸ¤¯\", \"ğŸ‰\", \"ğŸ’€\", \"ğŸ˜©\", \"ğŸ˜¡\", \"ğŸ¥µ\", \"ğŸ˜‡\", \"ğŸ’–\"\r\n-];\r\n+const topEmojis = [\"ğŸ˜‚\", \"â¤ï¸\", \"ğŸ”¥\", \"ğŸ‘\", \"ğŸ˜\", \"ğŸ˜­\"]; // only top 6\r\n \r\n export default function Message({\r\n   sender,\r\n   content,\r\n@@ -74,28 +71,27 @@\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"w-full h-1/2 px-2 py-1 flex overflow-hidden\">\r\n+    <div className=\"w-full px-3 py-2 flex\">\r\n       <div\r\n         className={`flex flex-col gap-1 ${\r\n           isSender ? \"items-end ml-auto\" : \"items-start mr-auto\"\r\n         } w-full max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}\r\n       >\r\n-        {/* Sender & Timestamp */}\r\n+        {/* Sender & Time */}\r\n         <div className=\"text-xs text-neutral-500 dark:text-neutral-400 mb-1\">\r\n           {isSender ? \"You\" : \"Stranger\"} â€¢ {time}\r\n         </div>\r\n \r\n-        {/* Message Bubble */}\r\n+        {/* Message bubble */}\r\n         <div\r\n-          className={`relative group px-4 py-2 rounded-lg text-sm shadow-md ${\r\n+          className={`relative group px-4 py-2 rounded-lg text-sm shadow-md transition-all ${\r\n             isSender\r\n               ? \"bg-blue-600 text-white rounded-br-none\"\r\n               : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-none\"\r\n           }`}\r\n         >\r\n-          {/* Content or Editor */}\r\n           {isEditing ? (\r\n             <div className=\"flex flex-col gap-1\">\r\n               <input\r\n                 type=\"text\"\r\n@@ -137,9 +133,9 @@\n               )}\r\n             </>\r\n           )}\r\n \r\n-          {/* Action Buttons */}\r\n+          {/* Action buttons (on hover) */}\r\n           {!isEditing && (\r\n             <div\r\n               className={`absolute top-1 ${\r\n                 isSender ? \"right-1 text-white\" : \"left-1 text-black dark:text-white\"\r\n@@ -168,9 +164,9 @@\n \r\n           {/* Emoji Picker */}\r\n           {showReactions && (\r\n             <div\r\n-              className={`absolute top-full mt-2 z-50 bg-white dark:bg-neutral-800 p-2 border rounded shadow flex flex-wrap gap-1 max-w-xs ${\r\n+              className={`absolute top-full mt-2 z-50 bg-white dark:bg-neutral-800 p-2 border rounded shadow flex flex-wrap gap-2 ${\r\n                 isSender ? \"right-0\" : \"left-0\"\r\n               }`}\r\n             >\r\n               {topEmojis.map((emoji) => (\r\n"
                },
                {
                    "date": 1752423191936,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n   onEdit?: (newContent: string) => void;\r\n   onReact?: (reaction: string) => void;\r\n }\r\n \r\n-const topEmojis = [\"ğŸ˜‚\", \"â¤ï¸\", \"ğŸ”¥\", \"ğŸ‘\", \"ğŸ˜\", \"ğŸ˜­\"]; // only top 6\r\n+const topEmojis = [\"ğŸ˜‚\", \"â¤ï¸\", \"ğŸ”¥\", \"ğŸ‘\", \"ğŸ˜\", \"ğŸ˜­\"];\r\n \r\n export default function Message({\r\n   sender,\r\n   content,\r\n@@ -52,9 +52,9 @@\n         return (\r\n           <img\r\n             src={content}\r\n             alt=\"Image\"\r\n-            className=\"rounded max-w-xs mt-2 object-cover border border-gray-300 dark:border-gray-600\"\r\n+            className=\"rounded-xl max-w-xs mt-2 border border-gray-300 dark:border-gray-600\"\r\n           />\r\n         );\r\n       case \"audio\":\r\n         return <audio controls src={content} className=\"mt-2 w-full\" />;\r\n@@ -62,18 +62,18 @@\n         return (\r\n           <video\r\n             controls\r\n             src={content}\r\n-            className=\"mt-2 w-full rounded max-h-64 object-cover\"\r\n+            className=\"mt-2 w-full rounded-lg max-h-64\"\r\n           />\r\n         );\r\n       default:\r\n         return <p className=\"whitespace-pre-wrap break-words\">{content}</p>;\r\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"w-full px-3 py-2 flex\">\r\n+    <div className=\"w-full px-4 py-3 flex\">\r\n       <div\r\n         className={`flex flex-col gap-1 ${\r\n           isSender ? \"items-end ml-auto\" : \"items-start mr-auto\"\r\n         } w-full max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}\r\n@@ -84,25 +84,24 @@\n         </div>\r\n \r\n         {/* Message bubble */}\r\n         <div\r\n-          className={`relative group px-4 py-2 rounded-lg text-sm shadow-md transition-all ${\r\n+          className={`relative group px-4 py-2 rounded-2xl text-sm shadow-sm transition-all ${\r\n             isSender\r\n-              ? \"bg-blue-600 text-white rounded-br-none\"\r\n-              : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-none\"\r\n+              ? \"bg-blue-600 text-white rounded-br-md\"\r\n+              : \"bg-neutral-100 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-md\"\r\n           }`}\r\n         >\r\n           {isEditing ? (\r\n             <div className=\"flex flex-col gap-1\">\r\n               <input\r\n                 type=\"text\"\r\n-                className=\"text-black px-2 py-1 rounded text-sm border border-gray-300 focus:outline-none focus:ring focus:ring-blue-500\"\r\n+                className=\"text-black px-3 py-2 rounded-md text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                 value={editedContent}\r\n                 onChange={(e) => setEditedContent(e.target.value)}\r\n                 autoFocus\r\n-                placeholder=\"Edit your message\"\r\n               />\r\n-              <div className=\"flex gap-2 justify-end text-xs mt-1\">\r\n+              <div className=\"flex justify-end gap-3 mt-2 text-xs\">\r\n                 <button\r\n                   onClick={handleEditSubmit}\r\n                   className=\"text-green-600 hover:underline\"\r\n                 >\r\n@@ -124,22 +123,22 @@\n               {type === \"text\" ? <span>{content}</span> : renderMedia()}\r\n \r\n               {/* Reactions */}\r\n               {Object.values(reactions).length > 0 && (\r\n-                <div className=\"mt-2 flex gap-1 text-lg flex-wrap\">\r\n+                <div className=\"mt-2 flex gap-1 text-xl flex-wrap\">\r\n                   {Object.values(reactions).map((emoji, idx) => (\r\n                     <span key={idx}>{emoji}</span>\r\n                   ))}\r\n                 </div>\r\n               )}\r\n             </>\r\n           )}\r\n \r\n-          {/* Action buttons (on hover) */}\r\n+          {/* Hover Buttons */}\r\n           {!isEditing && (\r\n             <div\r\n               className={`absolute top-1 ${\r\n-                isSender ? \"right-1 text-white\" : \"left-1 text-black dark:text-white\"\r\n+                isSender ? \"right-2 text-white\" : \"left-2 text-black dark:text-white\"\r\n               } hidden group-hover:flex gap-1 text-sm z-10`}\r\n             >\r\n               {isSender && onEdit && (\r\n                 <button onClick={() => setIsEditing(true)} title=\"Edit\">\r\n@@ -161,12 +160,12 @@\n               )}\r\n             </div>\r\n           )}\r\n \r\n-          {/* Emoji Picker */}\r\n+          {/* Emoji Reaction Picker */}\r\n           {showReactions && (\r\n             <div\r\n-              className={`absolute top-full mt-2 z-50 bg-white dark:bg-neutral-800 p-2 border rounded shadow flex flex-wrap gap-2 ${\r\n+              className={`absolute top-full mt-2 z-50 bg-white dark:bg-neutral-800 p-2 border border-neutral-300 dark:border-neutral-700 rounded-lg shadow-lg flex flex-wrap gap-2 ${\r\n                 isSender ? \"right-0\" : \"left-0\"\r\n               }`}\r\n             >\r\n               {topEmojis.map((emoji) => (\r\n@@ -175,9 +174,9 @@\n                   onClick={() => {\r\n                     onReact?.(emoji);\r\n                     setShowReactions(false);\r\n                   }}\r\n-                  className=\"text-xl hover:scale-110 transition-transform\"\r\n+                  className=\"text-xl hover:scale-125 transition-transform duration-150\"\r\n                 >\r\n                   {emoji}\r\n                 </button>\r\n               ))}\r\n"
                },
                {
                    "date": 1752423227356,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,8 +98,10 @@\n                 className=\"text-black px-3 py-2 rounded-md text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                 value={editedContent}\r\n                 onChange={(e) => setEditedContent(e.target.value)}\r\n                 autoFocus\r\n+                placeholder=\"Edit your message\"\r\n+                title=\"Edit message\"\r\n               />\r\n               <div className=\"flex justify-end gap-3 mt-2 text-xs\">\r\n                 <button\r\n                   onClick={handleEditSubmit}\r\n"
                },
                {
                    "date": 1752424809464,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -84,9 +84,9 @@\n         </div>\r\n \r\n         {/* Message bubble */}\r\n         <div\r\n-          className={`relative group px-4 py-2 rounded-2xl text-sm shadow-sm transition-all ${\r\n+          className={`relative group px-4 py-2 rounded-2xl text-sm shadow-sm transition-all max-h-72 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-400 dark:scrollbar-thumb-neutral-600 scrollbar-track-transparent ${\r\n             isSender\r\n               ? \"bg-blue-600 text-white rounded-br-md\"\r\n               : \"bg-neutral-100 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-md\"\r\n           }`}\r\n"
                },
                {
                    "date": 1752425966448,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -84,9 +84,9 @@\n         </div>\r\n \r\n         {/* Message bubble */}\r\n         <div\r\n-          className={`relative group px-4 py-2 rounded-2xl text-sm shadow-sm transition-all max-h-72 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-400 dark:scrollbar-thumb-neutral-600 scrollbar-track-transparent ${\r\n+          className={`relative group px-4 py-2 rounded-2xl text-sm shadow-sm transition-all overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-400 dark:scrollbar-thumb-neutral-600 scrollbar-track-transparent ${\r\n             isSender\r\n               ? \"bg-blue-600 text-white rounded-br-md\"\r\n               : \"bg-neutral-100 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-md\"\r\n           }`}\r\n"
                },
                {
                    "date": 1752426099053,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -84,9 +84,9 @@\n         </div>\r\n \r\n         {/* Message bubble */}\r\n         <div\r\n-          className={`relative group px-4 py-2 rounded-2xl text-sm shadow-sm transition-all overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-400 dark:scrollbar-thumb-neutral-600 scrollbar-track-transparent ${\r\n+          className={`relative group px-4 py-2 rounded-2xl text-sm shadow-sm transition-all max-h-72 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-400 dark:scrollbar-thumb-neutral-600 scrollbar-track-transparent ${\r\n             isSender\r\n               ? \"bg-blue-600 text-white rounded-br-md\"\r\n               : \"bg-neutral-100 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-md\"\r\n           }`}\r\n"
                },
                {
                    "date": 1752511003363,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n \"use client\";\r\n \r\n-import React, { useState } from \"react\";\r\n+import React, { useEffect, useState } from \"react\";\r\n \r\n interface MessageProps {\r\n   id: string;\r\n   sender: \"me\" | \"partner\";\r\n@@ -17,8 +17,9 @@\n \r\n const topEmojis = [\"ğŸ˜‚\", \"â¤ï¸\", \"ğŸ”¥\", \"ğŸ‘\", \"ğŸ˜\", \"ğŸ˜­\"];\r\n \r\n export default function Message({\r\n+  id,\r\n   sender,\r\n   content,\r\n   timestamp,\r\n   status,\r\n@@ -38,13 +39,19 @@\n     hour: \"2-digit\",\r\n     minute: \"2-digit\",\r\n   });\r\n \r\n+  // Keep editedContent in sync with props.content\r\n+  useEffect(() => {\r\n+    setEditedContent(content);\r\n+  }, [content]);\r\n+\r\n   const handleEditSubmit = () => {\r\n-    if (editedContent.trim()) {\r\n-      onEdit?.(editedContent.trim());\r\n-      setIsEditing(false);\r\n+    const trimmed = editedContent.trim();\r\n+    if (trimmed && trimmed !== content) {\r\n+      onEdit?.(trimmed);\r\n     }\r\n+    setIsEditing(false);\r\n   };\r\n \r\n   const renderMedia = () => {\r\n     switch (type) {\r\n@@ -52,39 +59,39 @@\n         return (\r\n           <img\r\n             src={content}\r\n             alt=\"Image\"\r\n-            className=\"rounded-xl max-w-xs mt-2 border border-gray-300 dark:border-gray-600\"\r\n+            className=\"rounded-xl max-w-xs mt-1 border border-gray-300 dark:border-gray-600\"\r\n           />\r\n         );\r\n       case \"audio\":\r\n-        return <audio controls src={content} className=\"mt-2 w-full\" />;\r\n+        return <audio controls src={content} className=\"mt-1 w-full\" />;\r\n       case \"video\":\r\n         return (\r\n           <video\r\n             controls\r\n             src={content}\r\n-            className=\"mt-2 w-full rounded-lg max-h-64\"\r\n+            className=\"mt-1 w-full rounded-lg max-h-64\"\r\n           />\r\n         );\r\n       default:\r\n         return <p className=\"whitespace-pre-wrap break-words\">{content}</p>;\r\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"w-full px-4 py-3 flex\">\r\n+    <div className=\"w-full px-4 py-2 flex\">\r\n       <div\r\n         className={`flex flex-col gap-1 ${\r\n           isSender ? \"items-end ml-auto\" : \"items-start mr-auto\"\r\n         } w-full max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}\r\n       >\r\n         {/* Sender & Time */}\r\n-        <div className=\"text-xs text-neutral-500 dark:text-neutral-400 mb-1\">\r\n+        <div className=\"text-xs text-neutral-500 dark:text-neutral-400\">\r\n           {isSender ? \"You\" : \"Stranger\"} â€¢ {time}\r\n         </div>\r\n \r\n-        {/* Message bubble */}\r\n+        {/* Message Bubble */}\r\n         <div\r\n           className={`relative group px-4 py-2 rounded-2xl text-sm shadow-sm transition-all max-h-72 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-400 dark:scrollbar-thumb-neutral-600 scrollbar-track-transparent ${\r\n             isSender\r\n               ? \"bg-blue-600 text-white rounded-br-md\"\r\n@@ -99,11 +106,10 @@\n                 value={editedContent}\r\n                 onChange={(e) => setEditedContent(e.target.value)}\r\n                 autoFocus\r\n                 placeholder=\"Edit your message\"\r\n-                title=\"Edit message\"\r\n               />\r\n-              <div className=\"flex justify-end gap-3 mt-2 text-xs\">\r\n+              <div className=\"flex justify-end gap-3 mt-1 text-xs\">\r\n                 <button\r\n                   onClick={handleEditSubmit}\r\n                   className=\"text-green-600 hover:underline\"\r\n                 >\r\n@@ -125,22 +131,24 @@\n               {type === \"text\" ? <span>{content}</span> : renderMedia()}\r\n \r\n               {/* Reactions */}\r\n               {Object.values(reactions).length > 0 && (\r\n-                <div className=\"mt-2 flex gap-1 text-xl flex-wrap\">\r\n+                <div className=\"mt-1 flex gap-1 text-xl flex-wrap\">\r\n                   {Object.values(reactions).map((emoji, idx) => (\r\n                     <span key={idx}>{emoji}</span>\r\n                   ))}\r\n                 </div>\r\n               )}\r\n             </>\r\n           )}\r\n \r\n-          {/* Hover Buttons */}\r\n+          {/* Hover Actions */}\r\n           {!isEditing && (\r\n             <div\r\n               className={`absolute top-1 ${\r\n-                isSender ? \"right-2 text-white\" : \"left-2 text-black dark:text-white\"\r\n+                isSender\r\n+                  ? \"right-2 text-white\"\r\n+                  : \"left-2 text-black dark:text-white\"\r\n               } hidden group-hover:flex gap-1 text-sm z-10`}\r\n             >\r\n               {isSender && onEdit && (\r\n                 <button onClick={() => setIsEditing(true)} title=\"Edit\">\r\n@@ -187,9 +195,9 @@\n         </div>\r\n \r\n         {/* Message Status */}\r\n         {isSender && status && (\r\n-          <div className=\"text-[10px] text-neutral-400 mt-0.5\">\r\n+          <div className=\"text-[10px] text-neutral-400\">\r\n             {status === \"seen\"\r\n               ? \"Seen âœ…\"\r\n               : status === \"delivered\"\r\n               ? \"Delivered âœ”ï¸\"\r\n"
                },
                {
                    "date": 1752511576206,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,8 @@\n     hour: \"2-digit\",\r\n     minute: \"2-digit\",\r\n   });\r\n \r\n-  // Keep editedContent in sync with props.content\r\n   useEffect(() => {\r\n     setEditedContent(content);\r\n   }, [content]);\r\n \r\n@@ -59,9 +58,9 @@\n         return (\r\n           <img\r\n             src={content}\r\n             alt=\"Image\"\r\n-            className=\"rounded-xl max-w-xs mt-1 border border-gray-300 dark:border-gray-600\"\r\n+            className=\"rounded-2xl max-w-xs mt-1 border border-gray-300 dark:border-gray-600\"\r\n           />\r\n         );\r\n       case \"audio\":\r\n         return <audio controls src={content} className=\"mt-1 w-full\" />;\r\n@@ -69,31 +68,31 @@\n         return (\r\n           <video\r\n             controls\r\n             src={content}\r\n-            className=\"mt-1 w-full rounded-lg max-h-64\"\r\n+            className=\"mt-1 w-full rounded-2xl max-h-64\"\r\n           />\r\n         );\r\n       default:\r\n         return <p className=\"whitespace-pre-wrap break-words\">{content}</p>;\r\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"w-full px-4 py-2 flex\">\r\n+    <div className=\"w-full px-4 py-1 flex\">\r\n       <div\r\n-        className={`flex flex-col gap-1 ${\r\n+        className={`flex flex-col ${\r\n           isSender ? \"items-end ml-auto\" : \"items-start mr-auto\"\r\n         } w-full max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}\r\n       >\r\n         {/* Sender & Time */}\r\n-        <div className=\"text-xs text-neutral-500 dark:text-neutral-400\">\r\n+        <div className=\"text-xs text-neutral-500 dark:text-neutral-400 mb-0.5\">\r\n           {isSender ? \"You\" : \"Stranger\"} â€¢ {time}\r\n         </div>\r\n \r\n-        {/* Message Bubble */}\r\n+        {/* Message bubble */}\r\n         <div\r\n-          className={`relative group px-4 py-2 rounded-2xl text-sm shadow-sm transition-all max-h-72 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-400 dark:scrollbar-thumb-neutral-600 scrollbar-track-transparent ${\r\n+          className={`relative group px-4 py-2 rounded-2xl text-sm shadow-md max-h-72 overflow-y-auto transition-all duration-200 scrollbar-thin scrollbar-thumb-gray-400 dark:scrollbar-thumb-neutral-600 scrollbar-track-transparent ${\r\n             isSender\r\n               ? \"bg-blue-600 text-white rounded-br-md\"\r\n               : \"bg-neutral-100 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-md\"\r\n           }`}\r\n@@ -129,20 +128,20 @@\n           ) : (\r\n             <>\r\n               {type === \"text\" ? <span>{content}</span> : renderMedia()}\r\n \r\n-              {/* Reactions */}\r\n+              {/* Reactions (Inline, no wrap/scroll) */}\r\n               {Object.values(reactions).length > 0 && (\r\n-                <div className=\"mt-1 flex gap-1 text-xl flex-wrap\">\r\n+                <div className=\"mt-1 flex gap-1 text-xl\">\r\n                   {Object.values(reactions).map((emoji, idx) => (\r\n                     <span key={idx}>{emoji}</span>\r\n                   ))}\r\n                 </div>\r\n               )}\r\n             </>\r\n           )}\r\n \r\n-          {/* Hover Actions */}\r\n+          {/* Hover Buttons */}\r\n           {!isEditing && (\r\n             <div\r\n               className={`absolute top-1 ${\r\n                 isSender\r\n@@ -170,12 +169,12 @@\n               )}\r\n             </div>\r\n           )}\r\n \r\n-          {/* Emoji Reaction Picker */}\r\n+          {/* Emoji Reaction Picker (horizontal, no scroll) */}\r\n           {showReactions && (\r\n             <div\r\n-              className={`absolute top-full mt-2 z-50 bg-white dark:bg-neutral-800 p-2 border border-neutral-300 dark:border-neutral-700 rounded-lg shadow-lg flex flex-wrap gap-2 ${\r\n+              className={`absolute top-full mt-2 z-50 bg-white dark:bg-neutral-800 p-2 border border-neutral-300 dark:border-neutral-700 rounded-xl shadow-xl flex gap-2 ${\r\n                 isSender ? \"right-0\" : \"left-0\"\r\n               }`}\r\n             >\r\n               {topEmojis.map((emoji) => (\r\n@@ -195,9 +194,9 @@\n         </div>\r\n \r\n         {/* Message Status */}\r\n         {isSender && status && (\r\n-          <div className=\"text-[10px] text-neutral-400\">\r\n+          <div className=\"text-[10px] text-neutral-400 mt-0.5\">\r\n             {status === \"seen\"\r\n               ? \"Seen âœ…\"\r\n               : status === \"delivered\"\r\n               ? \"Delivered âœ”ï¸\"\r\n"
                },
                {
                    "date": 1752511941357,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,22 +77,22 @@\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"w-full px-4 py-1 flex\">\r\n+    <div className=\"w-full px-4 py-2 flex\">\r\n       <div\r\n         className={`flex flex-col ${\r\n           isSender ? \"items-end ml-auto\" : \"items-start mr-auto\"\r\n         } w-full max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}\r\n       >\r\n         {/* Sender & Time */}\r\n-        <div className=\"text-xs text-neutral-500 dark:text-neutral-400 mb-0.5\">\r\n+        <div className=\"text-xs text-neutral-500 dark:text-neutral-400 mb-1\">\r\n           {isSender ? \"You\" : \"Stranger\"} â€¢ {time}\r\n         </div>\r\n \r\n         {/* Message bubble */}\r\n         <div\r\n-          className={`relative group px-4 py-2 rounded-2xl text-sm shadow-md max-h-72 overflow-y-auto transition-all duration-200 scrollbar-thin scrollbar-thumb-gray-400 dark:scrollbar-thumb-neutral-600 scrollbar-track-transparent ${\r\n+          className={`relative group px-4 py-2 rounded-2xl text-sm shadow-md transition-all duration-200 ${\r\n             isSender\r\n               ? \"bg-blue-600 text-white rounded-br-md\"\r\n               : \"bg-neutral-100 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-md\"\r\n           }`}\r\n@@ -128,9 +128,9 @@\n           ) : (\r\n             <>\r\n               {type === \"text\" ? <span>{content}</span> : renderMedia()}\r\n \r\n-              {/* Reactions (Inline, no wrap/scroll) */}\r\n+              {/* Reactions (Inline, horizontal, no scroll) */}\r\n               {Object.values(reactions).length > 0 && (\r\n                 <div className=\"mt-1 flex gap-1 text-xl\">\r\n                   {Object.values(reactions).map((emoji, idx) => (\r\n                     <span key={idx}>{emoji}</span>\r\n@@ -169,12 +169,12 @@\n               )}\r\n             </div>\r\n           )}\r\n \r\n-          {/* Emoji Reaction Picker (horizontal, no scroll) */}\r\n+          {/* Emoji Reaction Picker (Flat, no scroll, no wrap) */}\r\n           {showReactions && (\r\n             <div\r\n-              className={`absolute top-full mt-2 z-50 bg-white dark:bg-neutral-800 p-2 border border-neutral-300 dark:border-neutral-700 rounded-xl shadow-xl flex gap-2 ${\r\n+              className={`absolute top-full mt-2 z-50 bg-white dark:bg-neutral-800 px-3 py-2 border border-neutral-300 dark:border-neutral-700 rounded-xl shadow-lg flex flex-row gap-2 ${\r\n                 isSender ? \"right-0\" : \"left-0\"\r\n               }`}\r\n             >\r\n               {topEmojis.map((emoji) => (\r\n@@ -194,9 +194,9 @@\n         </div>\r\n \r\n         {/* Message Status */}\r\n         {isSender && status && (\r\n-          <div className=\"text-[10px] text-neutral-400 mt-0.5\">\r\n+          <div className=\"text-[10px] text-neutral-400 mt-1\">\r\n             {status === \"seen\"\r\n               ? \"Seen âœ…\"\r\n               : status === \"delivered\"\r\n               ? \"Delivered âœ”ï¸\"\r\n"
                },
                {
                    "date": 1752512193823,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,8 +31,9 @@\n }: MessageProps) {\r\n   const [isEditing, setIsEditing] = useState(false);\r\n   const [editedContent, setEditedContent] = useState(content);\r\n   const [showReactions, setShowReactions] = useState(false);\r\n+  const [burstEmoji, setBurstEmoji] = useState<string | null>(null);\r\n \r\n   const isSender = sender === \"me\";\r\n \r\n   const time = new Date(timestamp).toLocaleTimeString([], {\r\n@@ -51,8 +52,13 @@\n     }\r\n     setIsEditing(false);\r\n   };\r\n \r\n+  const triggerBurst = (emoji: string) => {\r\n+    setBurstEmoji(emoji);\r\n+    setTimeout(() => setBurstEmoji(null), 800);\r\n+  };\r\n+\r\n   const renderMedia = () => {\r\n     switch (type) {\r\n       case \"image\":\r\n         return (\r\n@@ -77,9 +83,16 @@\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"w-full px-4 py-2 flex\">\r\n+    <div className=\"w-full px-4 py-2 flex relative\">\r\n+      {/* Emoji Burst */}\r\n+      {burstEmoji && (\r\n+        <div className=\"absolute -top-4 left-1/2 transform -translate-x-1/2 z-50 text-4xl animate-bounce pointer-events-none select-none\">\r\n+          {burstEmoji}\r\n+        </div>\r\n+      )}\r\n+\r\n       <div\r\n         className={`flex flex-col ${\r\n           isSender ? \"items-end ml-auto\" : \"items-start mr-auto\"\r\n         } w-full max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}\r\n@@ -128,13 +141,18 @@\n           ) : (\r\n             <>\r\n               {type === \"text\" ? <span>{content}</span> : renderMedia()}\r\n \r\n-              {/* Reactions (Inline, horizontal, no scroll) */}\r\n+              {/* Reactions */}\r\n               {Object.values(reactions).length > 0 && (\r\n                 <div className=\"mt-1 flex gap-1 text-xl\">\r\n                   {Object.values(reactions).map((emoji, idx) => (\r\n-                    <span key={idx}>{emoji}</span>\r\n+                    <span\r\n+                      key={idx}\r\n+                      className=\"transition-transform duration-200 hover:scale-110\"\r\n+                    >\r\n+                      {emoji}\r\n+                    </span>\r\n                   ))}\r\n                 </div>\r\n               )}\r\n             </>\r\n@@ -169,9 +187,9 @@\n               )}\r\n             </div>\r\n           )}\r\n \r\n-          {/* Emoji Reaction Picker (Flat, no scroll, no wrap) */}\r\n+          {/* Emoji Picker */}\r\n           {showReactions && (\r\n             <div\r\n               className={`absolute top-full mt-2 z-50 bg-white dark:bg-neutral-800 px-3 py-2 border border-neutral-300 dark:border-neutral-700 rounded-xl shadow-lg flex flex-row gap-2 ${\r\n                 isSender ? \"right-0\" : \"left-0\"\r\n@@ -181,8 +199,9 @@\n                 <button\r\n                   key={emoji}\r\n                   onClick={() => {\r\n                     onReact?.(emoji);\r\n+                    triggerBurst(emoji);\r\n                     setShowReactions(false);\r\n                   }}\r\n                   className=\"text-xl hover:scale-125 transition-transform duration-150\"\r\n                 >\r\n"
                },
                {
                    "date": 1752512915734,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,9 @@\n \"use client\";\r\n \r\n import React, { useEffect, useState } from \"react\";\r\n+import Confetti from \"react-confetti\";\r\n+import { useWindowSize } from \"@react-hook/window-size\";\r\n \r\n interface MessageProps {\r\n   id: string;\r\n   sender: \"me\" | \"partner\";\r\n@@ -31,17 +33,13 @@\n }: MessageProps) {\r\n   const [isEditing, setIsEditing] = useState(false);\r\n   const [editedContent, setEditedContent] = useState(content);\r\n   const [showReactions, setShowReactions] = useState(false);\r\n-  const [burstEmoji, setBurstEmoji] = useState<string | null>(null);\r\n+  const [burst, setBurst] = useState(false);\r\n+  const [width, height] = useWindowSize();\r\n \r\n   const isSender = sender === \"me\";\r\n \r\n-  const time = new Date(timestamp).toLocaleTimeString([], {\r\n-    hour: \"2-digit\",\r\n-    minute: \"2-digit\",\r\n-  });\r\n-\r\n   useEffect(() => {\r\n     setEditedContent(content);\r\n   }, [content]);\r\n \r\n@@ -52,11 +50,13 @@\n     }\r\n     setIsEditing(false);\r\n   };\r\n \r\n-  const triggerBurst = (emoji: string) => {\r\n-    setBurstEmoji(emoji);\r\n-    setTimeout(() => setBurstEmoji(null), 800);\r\n+  const triggerConfetti = () => {\r\n+    if (!isSender) {\r\n+      setBurst(true);\r\n+      setTimeout(() => setBurst(false), 1000);\r\n+    }\r\n   };\r\n \r\n   const renderMedia = () => {\r\n     switch (type) {\r\n@@ -64,64 +64,71 @@\n         return (\r\n           <img\r\n             src={content}\r\n             alt=\"Image\"\r\n-            className=\"rounded-2xl max-w-xs mt-1 border border-gray-300 dark:border-gray-600\"\r\n+            className=\"rounded-2xl max-w-full mt-2 border border-gray-300 dark:border-gray-600\"\r\n           />\r\n         );\r\n       case \"audio\":\r\n-        return <audio controls src={content} className=\"mt-1 w-full\" />;\r\n+        return <audio controls src={content} className=\"mt-2 w-full\" />;\r\n       case \"video\":\r\n         return (\r\n           <video\r\n             controls\r\n             src={content}\r\n-            className=\"mt-1 w-full rounded-2xl max-h-64\"\r\n+            className=\"mt-2 w-full rounded-2xl max-h-64\"\r\n           />\r\n         );\r\n       default:\r\n         return <p className=\"whitespace-pre-wrap break-words\">{content}</p>;\r\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"w-full px-4 py-2 flex relative\">\r\n-      {/* Emoji Burst */}\r\n-      {burstEmoji && (\r\n-        <div className=\"absolute -top-4 left-1/2 transform -translate-x-1/2 z-50 text-4xl animate-bounce pointer-events-none select-none\">\r\n-          {burstEmoji}\r\n-        </div>\r\n+    <div className=\"relative w-full px-3 py-2 flex\">\r\n+      {/* Confetti burst for receiver only */}\r\n+      {burst && !isSender && (\r\n+        <Confetti\r\n+          width={width}\r\n+          height={height}\r\n+          recycle={false}\r\n+          numberOfPieces={100}\r\n+        />\r\n       )}\r\n \r\n       <div\r\n         className={`flex flex-col ${\r\n           isSender ? \"items-end ml-auto\" : \"items-start mr-auto\"\r\n-        } w-full max-w-[85%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]`}\r\n+        } w-full max-w-[90%] sm:max-w-[75%] md:max-w-[60%]`}\r\n       >\r\n-        {/* Sender & Time */}\r\n+        {/* Header: Sender & Time */}\r\n         <div className=\"text-xs text-neutral-500 dark:text-neutral-400 mb-1\">\r\n-          {isSender ? \"You\" : \"Stranger\"} â€¢ {time}\r\n+          {isSender ? \"You\" : \"Stranger\"} â€¢{\" \"}\r\n+          {new Date(timestamp).toLocaleTimeString([], {\r\n+            hour: \"2-digit\",\r\n+            minute: \"2-digit\",\r\n+          })}\r\n         </div>\r\n \r\n         {/* Message bubble */}\r\n         <div\r\n           className={`relative group px-4 py-2 rounded-2xl text-sm shadow-md transition-all duration-200 ${\r\n             isSender\r\n               ? \"bg-blue-600 text-white rounded-br-md\"\r\n-              : \"bg-neutral-100 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-bl-md\"\r\n+              : \"bg-neutral-100 dark:bg-neutral-700 text-neutral-900 dark:text-white rounded-bl-md\"\r\n           }`}\r\n         >\r\n+          {/* Editing input */}\r\n           {isEditing ? (\r\n-            <div className=\"flex flex-col gap-1\">\r\n+            <div className=\"flex flex-col gap-2\">\r\n               <input\r\n                 type=\"text\"\r\n                 className=\"text-black px-3 py-2 rounded-md text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                 value={editedContent}\r\n                 onChange={(e) => setEditedContent(e.target.value)}\r\n                 autoFocus\r\n-                placeholder=\"Edit your message\"\r\n               />\r\n-              <div className=\"flex justify-end gap-3 mt-1 text-xs\">\r\n+              <div className=\"flex justify-end gap-3 text-xs\">\r\n                 <button\r\n                   onClick={handleEditSubmit}\r\n                   className=\"text-green-600 hover:underline\"\r\n                 >\r\n@@ -143,13 +150,13 @@\n               {type === \"text\" ? <span>{content}</span> : renderMedia()}\r\n \r\n               {/* Reactions */}\r\n               {Object.values(reactions).length > 0 && (\r\n-                <div className=\"mt-1 flex gap-1 text-xl\">\r\n+                <div className=\"mt-2 flex flex-wrap gap-1 text-xl\">\r\n                   {Object.values(reactions).map((emoji, idx) => (\r\n                     <span\r\n                       key={idx}\r\n-                      className=\"transition-transform duration-200 hover:scale-110\"\r\n+                      className=\"hover:scale-110 transition-transform\"\r\n                     >\r\n                       {emoji}\r\n                     </span>\r\n                   ))}\r\n@@ -157,9 +164,9 @@\n               )}\r\n             </>\r\n           )}\r\n \r\n-          {/* Hover Buttons */}\r\n+          {/* Action buttons on hover */}\r\n           {!isEditing && (\r\n             <div\r\n               className={`absolute top-1 ${\r\n                 isSender\r\n@@ -187,9 +194,9 @@\n               )}\r\n             </div>\r\n           )}\r\n \r\n-          {/* Emoji Picker */}\r\n+          {/* Emoji Reaction Picker */}\r\n           {showReactions && (\r\n             <div\r\n               className={`absolute top-full mt-2 z-50 bg-white dark:bg-neutral-800 px-3 py-2 border border-neutral-300 dark:border-neutral-700 rounded-xl shadow-lg flex flex-row gap-2 ${\r\n                 isSender ? \"right-0\" : \"left-0\"\r\n@@ -199,9 +206,9 @@\n                 <button\r\n                   key={emoji}\r\n                   onClick={() => {\r\n                     onReact?.(emoji);\r\n-                    triggerBurst(emoji);\r\n+                    triggerConfetti();\r\n                     setShowReactions(false);\r\n                   }}\r\n                   className=\"text-xl hover:scale-125 transition-transform duration-150\"\r\n                 >\r\n@@ -211,9 +218,9 @@\n             </div>\r\n           )}\r\n         </div>\r\n \r\n-        {/* Message Status */}\r\n+        {/* Message Status (only for sender) */}\r\n         {isSender && status && (\r\n           <div className=\"text-[10px] text-neutral-400 mt-1\">\r\n             {status === \"seen\"\r\n               ? \"Seen âœ…\"\r\n"
                },
                {
                    "date": 1752512939154,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,8 +125,9 @@\n                 className=\"text-black px-3 py-2 rounded-md text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                 value={editedContent}\r\n                 onChange={(e) => setEditedContent(e.target.value)}\r\n                 autoFocus\r\n+                placeholder=\"Edit your message\"\r\n               />\r\n               <div className=\"flex justify-end gap-3 text-xs\">\r\n                 <button\r\n                   onClick={handleEditSubmit}\r\n"
                },
                {
                    "date": 1752519649778,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,8 +14,10 @@\n   reactions?: { [userId: string]: string };\r\n   onDelete?: () => void;\r\n   onEdit?: (newContent: string) => void;\r\n   onReact?: (reaction: string) => void;\r\n+  name?: string;\r\n+  age?: string | number;\r\n }\r\n \r\n const topEmojis = [\"ğŸ˜‚\", \"â¤ï¸\", \"ğŸ”¥\", \"ğŸ‘\", \"ğŸ˜\", \"ğŸ˜­\"];\r\n \r\n@@ -29,8 +31,10 @@\n   reactions = {},\r\n   onDelete,\r\n   onEdit,\r\n   onReact,\r\n+  name,\r\n+  age,\r\n }: MessageProps) {\r\n   const [isEditing, setIsEditing] = useState(false);\r\n   const [editedContent, setEditedContent] = useState(content);\r\n   const [showReactions, setShowReactions] = useState(false);\r\n@@ -99,15 +103,19 @@\n         className={`flex flex-col ${\r\n           isSender ? \"items-end ml-auto\" : \"items-start mr-auto\"\r\n         } w-full max-w-[90%] sm:max-w-[75%] md:max-w-[60%]`}\r\n       >\r\n-        {/* Header: Sender & Time */}\r\n+        {/* Name + Time */}\r\n         <div className=\"text-xs text-neutral-500 dark:text-neutral-400 mb-1\">\r\n-          {isSender ? \"You\" : \"Stranger\"} â€¢{\" \"}\r\n-          {new Date(timestamp).toLocaleTimeString([], {\r\n-            hour: \"2-digit\",\r\n-            minute: \"2-digit\",\r\n-          })}\r\n+          {isSender ? (\r\n+            <>You â€¢ {new Date(timestamp).toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" })}</>\r\n+          ) : (\r\n+            <>\r\n+              {name || \"Stranger\"}\r\n+              {age ? ` (${age})` : \"\"} â€¢{\" \"}\r\n+              {new Date(timestamp).toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" })}\r\n+            </>\r\n+          )}\r\n         </div>\r\n \r\n         {/* Message bubble */}\r\n         <div\r\n@@ -165,9 +173,9 @@\n               )}\r\n             </>\r\n           )}\r\n \r\n-          {/* Action buttons on hover */}\r\n+          {/* Action buttons */}\r\n           {!isEditing && (\r\n             <div\r\n               className={`absolute top-1 ${\r\n                 isSender\r\n@@ -219,9 +227,9 @@\n             </div>\r\n           )}\r\n         </div>\r\n \r\n-        {/* Message Status (only for sender) */}\r\n+        {/* Message Status */}\r\n         {isSender && status && (\r\n           <div className=\"text-[10px] text-neutral-400 mt-1\">\r\n             {status === \"seen\"\r\n               ? \"Seen âœ…\"\r\n"
                },
                {
                    "date": 1752522216575,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,11 +86,15 @@\n         return <p className=\"whitespace-pre-wrap break-words\">{content}</p>;\r\n     }\r\n   };\r\n \r\n+  const getDisplayName = () => {\r\n+    if (isSender) return \"You\";\r\n+    return `${name ?? \"Stranger\"}${age ? ` (${age})` : \"\"}`;\r\n+  };\r\n+\r\n   return (\r\n     <div className=\"relative w-full px-3 py-2 flex\">\r\n-      {/* Confetti burst for receiver only */}\r\n       {burst && !isSender && (\r\n         <Confetti\r\n           width={width}\r\n           height={height}\r\n@@ -103,19 +107,15 @@\n         className={`flex flex-col ${\r\n           isSender ? \"items-end ml-auto\" : \"items-start mr-auto\"\r\n         } w-full max-w-[90%] sm:max-w-[75%] md:max-w-[60%]`}\r\n       >\r\n-        {/* Name + Time */}\r\n+        {/* Sender name + timestamp */}\r\n         <div className=\"text-xs text-neutral-500 dark:text-neutral-400 mb-1\">\r\n-          {isSender ? (\r\n-            <>You â€¢ {new Date(timestamp).toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" })}</>\r\n-          ) : (\r\n-            <>\r\n-              {name || \"Stranger\"}\r\n-              {age ? ` (${age})` : \"\"} â€¢{\" \"}\r\n-              {new Date(timestamp).toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" })}\r\n-            </>\r\n-          )}\r\n+          {getDisplayName()} â€¢{\" \"}\r\n+          {new Date(timestamp).toLocaleTimeString([], {\r\n+            hour: \"2-digit\",\r\n+            minute: \"2-digit\",\r\n+          })}\r\n         </div>\r\n \r\n         {/* Message bubble */}\r\n         <div\r\n@@ -124,18 +124,16 @@\n               ? \"bg-blue-600 text-white rounded-br-md\"\r\n               : \"bg-neutral-100 dark:bg-neutral-700 text-neutral-900 dark:text-white rounded-bl-md\"\r\n           }`}\r\n         >\r\n-          {/* Editing input */}\r\n           {isEditing ? (\r\n             <div className=\"flex flex-col gap-2\">\r\n               <input\r\n                 type=\"text\"\r\n                 className=\"text-black px-3 py-2 rounded-md text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                 value={editedContent}\r\n                 onChange={(e) => setEditedContent(e.target.value)}\r\n                 autoFocus\r\n-                placeholder=\"Edit your message\"\r\n               />\r\n               <div className=\"flex justify-end gap-3 text-xs\">\r\n                 <button\r\n                   onClick={handleEditSubmit}\r\n"
                },
                {
                    "date": 1752522237261,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -132,8 +132,10 @@\n                 className=\"text-black px-3 py-2 rounded-md text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                 value={editedContent}\r\n                 onChange={(e) => setEditedContent(e.target.value)}\r\n                 autoFocus\r\n+                placeholder=\"Edit your message\"\r\n+                title=\"Edit message\"\r\n               />\r\n               <div className=\"flex justify-end gap-3 text-xs\">\r\n                 <button\r\n                   onClick={handleEditSubmit}\r\n"
                },
                {
                    "date": 1752603603008,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,19 +68,19 @@\n         return (\r\n           <img\r\n             src={content}\r\n             alt=\"Image\"\r\n-            className=\"rounded-2xl max-w-full mt-2 border border-gray-300 dark:border-gray-600\"\r\n+            className=\"rounded-xl max-w-full mt-2 border border-gray-300 dark:border-gray-600 object-contain\"\r\n           />\r\n         );\r\n       case \"audio\":\r\n-        return <audio controls src={content} className=\"mt-2 w-full\" />;\r\n+        return <audio controls src={content} className=\"mt-2 w-full rounded\" />;\r\n       case \"video\":\r\n         return (\r\n           <video\r\n             controls\r\n             src={content}\r\n-            className=\"mt-2 w-full rounded-2xl max-h-64\"\r\n+            className=\"mt-2 w-full rounded-xl max-h-64\"\r\n           />\r\n         );\r\n       default:\r\n         return <p className=\"whitespace-pre-wrap break-words\">{content}</p>;\r\n@@ -107,20 +107,20 @@\n         className={`flex flex-col ${\r\n           isSender ? \"items-end ml-auto\" : \"items-start mr-auto\"\r\n         } w-full max-w-[90%] sm:max-w-[75%] md:max-w-[60%]`}\r\n       >\r\n-        {/* Sender name + timestamp */}\r\n+        {/* Sender + time */}\r\n         <div className=\"text-xs text-neutral-500 dark:text-neutral-400 mb-1\">\r\n           {getDisplayName()} â€¢{\" \"}\r\n           {new Date(timestamp).toLocaleTimeString([], {\r\n             hour: \"2-digit\",\r\n             minute: \"2-digit\",\r\n           })}\r\n         </div>\r\n \r\n-        {/* Message bubble */}\r\n+        {/* Bubble */}\r\n         <div\r\n-          className={`relative group px-4 py-2 rounded-2xl text-sm shadow-md transition-all duration-200 ${\r\n+          className={`relative group px-4 py-2 rounded-2xl text-sm shadow-md transition-all duration-200 break-words ${\r\n             isSender\r\n               ? \"bg-blue-600 text-white rounded-br-md\"\r\n               : \"bg-neutral-100 dark:bg-neutral-700 text-neutral-900 dark:text-white rounded-bl-md\"\r\n           }`}\r\n@@ -173,9 +173,9 @@\n               )}\r\n             </>\r\n           )}\r\n \r\n-          {/* Action buttons */}\r\n+          {/* Actions */}\r\n           {!isEditing && (\r\n             <div\r\n               className={`absolute top-1 ${\r\n                 isSender\r\n@@ -203,9 +203,9 @@\n               )}\r\n             </div>\r\n           )}\r\n \r\n-          {/* Emoji Reaction Picker */}\r\n+          {/* Emoji Picker */}\r\n           {showReactions && (\r\n             <div\r\n               className={`absolute top-full mt-2 z-50 bg-white dark:bg-neutral-800 px-3 py-2 border border-neutral-300 dark:border-neutral-700 rounded-xl shadow-lg flex flex-row gap-2 ${\r\n                 isSender ? \"right-0\" : \"left-0\"\r\n@@ -227,9 +227,9 @@\n             </div>\r\n           )}\r\n         </div>\r\n \r\n-        {/* Message Status */}\r\n+        {/* Status */}\r\n         {isSender && status && (\r\n           <div className=\"text-[10px] text-neutral-400 mt-1\">\r\n             {status === \"seen\"\r\n               ? \"Seen âœ…\"\r\n"
                },
                {
                    "date": 1753187770512,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -88,34 +88,32 @@\n   };\r\n \r\n   const getDisplayName = () => {\r\n     if (isSender) return \"You\";\r\n-    return `${name ?? \"Stranger\"}${age ? ` (${age})` : \"\"}`;\r\n+    return `${name ?? \"Unknown\"}${age ? ` (${age})` : \"\"}`;\r\n   };\r\n \r\n   return (\r\n-    <div className=\"relative w-full px-3 py-2 flex\">\r\n+    <div className=\"relative w-full px-4 py-3 flex\">\r\n       {burst && !isSender && (\r\n-        <Confetti\r\n-          width={width}\r\n-          height={height}\r\n-          recycle={false}\r\n-          numberOfPieces={100}\r\n-        />\r\n+        <Confetti width={width} height={height} recycle={false} numberOfPieces={100} />\r\n       )}\r\n \r\n       <div\r\n         className={`flex flex-col ${\r\n           isSender ? \"items-end ml-auto\" : \"items-start mr-auto\"\r\n         } w-full max-w-[90%] sm:max-w-[75%] md:max-w-[60%]`}\r\n       >\r\n-        {/* Sender + time */}\r\n-        <div className=\"text-xs text-neutral-500 dark:text-neutral-400 mb-1\">\r\n-          {getDisplayName()} â€¢{\" \"}\r\n-          {new Date(timestamp).toLocaleTimeString([], {\r\n-            hour: \"2-digit\",\r\n-            minute: \"2-digit\",\r\n-          })}\r\n+        {/* Sender Name + Timestamp */}\r\n+        <div className=\"mb-1 flex items-center gap-1 text-xs text-neutral-500 dark:text-neutral-400\">\r\n+          <span className=\"font-semibold\">{getDisplayName()}</span>\r\n+          â€¢\r\n+          <span>\r\n+            {new Date(timestamp).toLocaleTimeString([], {\r\n+              hour: \"2-digit\",\r\n+              minute: \"2-digit\",\r\n+            })}\r\n+          </span>\r\n         </div>\r\n \r\n         {/* Bubble */}\r\n         <div\r\n@@ -177,11 +175,9 @@\n           {/* Actions */}\r\n           {!isEditing && (\r\n             <div\r\n               className={`absolute top-1 ${\r\n-                isSender\r\n-                  ? \"right-2 text-white\"\r\n-                  : \"left-2 text-black dark:text-white\"\r\n+                isSender ? \"right-2 text-white\" : \"left-2 text-black dark:text-white\"\r\n               } hidden group-hover:flex gap-1 text-sm z-10`}\r\n             >\r\n               {isSender && onEdit && (\r\n                 <button onClick={() => setIsEditing(true)} title=\"Edit\">\r\n"
                },
                {
                    "date": 1753188567417,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -88,32 +88,34 @@\n   };\r\n \r\n   const getDisplayName = () => {\r\n     if (isSender) return \"You\";\r\n-    return `${name ?? \"Unknown\"}${age ? ` (${age})` : \"\"}`;\r\n+    return `${name ?? \"Stranger\"}${age ? ` (${age})` : \"\"}`;\r\n   };\r\n \r\n   return (\r\n-    <div className=\"relative w-full px-4 py-3 flex\">\r\n+    <div className=\"relative w-full px-3 py-2 flex\">\r\n       {burst && !isSender && (\r\n-        <Confetti width={width} height={height} recycle={false} numberOfPieces={100} />\r\n+        <Confetti\r\n+          width={width}\r\n+          height={height}\r\n+          recycle={false}\r\n+          numberOfPieces={100}\r\n+        />\r\n       )}\r\n \r\n       <div\r\n         className={`flex flex-col ${\r\n           isSender ? \"items-end ml-auto\" : \"items-start mr-auto\"\r\n         } w-full max-w-[90%] sm:max-w-[75%] md:max-w-[60%]`}\r\n       >\r\n-        {/* Sender Name + Timestamp */}\r\n-        <div className=\"mb-1 flex items-center gap-1 text-xs text-neutral-500 dark:text-neutral-400\">\r\n-          <span className=\"font-semibold\">{getDisplayName()}</span>\r\n-          â€¢\r\n-          <span>\r\n-            {new Date(timestamp).toLocaleTimeString([], {\r\n-              hour: \"2-digit\",\r\n-              minute: \"2-digit\",\r\n-            })}\r\n-          </span>\r\n+        {/* Sender + time */}\r\n+        <div className=\"text-xs text-neutral-500 dark:text-neutral-400 mb-1\">\r\n+          {getDisplayName()} â€¢{\" \"}\r\n+          {new Date(timestamp).toLocaleTimeString([], {\r\n+            hour: \"2-digit\",\r\n+            minute: \"2-digit\",\r\n+          })}\r\n         </div>\r\n \r\n         {/* Bubble */}\r\n         <div\r\n@@ -175,9 +177,11 @@\n           {/* Actions */}\r\n           {!isEditing && (\r\n             <div\r\n               className={`absolute top-1 ${\r\n-                isSender ? \"right-2 text-white\" : \"left-2 text-black dark:text-white\"\r\n+                isSender\r\n+                  ? \"right-2 text-white\"\r\n+                  : \"left-2 text-black dark:text-white\"\r\n               } hidden group-hover:flex gap-1 text-sm z-10`}\r\n             >\r\n               {isSender && onEdit && (\r\n                 <button onClick={() => setIsEditing(true)} title=\"Edit\">\r\n"
                },
                {
                    "date": 1753189462342,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,8 +16,9 @@\n   onEdit?: (newContent: string) => void;\r\n   onReact?: (reaction: string) => void;\r\n   name?: string;\r\n   age?: string | number;\r\n+  country?: string;\r\n }\r\n \r\n const topEmojis = [\"ğŸ˜‚\", \"â¤ï¸\", \"ğŸ”¥\", \"ğŸ‘\", \"ğŸ˜\", \"ğŸ˜­\"];\r\n \r\n@@ -33,8 +34,9 @@\n   onEdit,\r\n   onReact,\r\n   name,\r\n   age,\r\n+  country,\r\n }: MessageProps) {\r\n   const [isEditing, setIsEditing] = useState(false);\r\n   const [editedContent, setEditedContent] = useState(content);\r\n   const [showReactions, setShowReactions] = useState(false);\r\n@@ -88,9 +90,10 @@\n   };\r\n \r\n   const getDisplayName = () => {\r\n     if (isSender) return \"You\";\r\n-    return `${name ?? \"Stranger\"}${age ? ` (${age})` : \"\"}`;\r\n+    const display = name?.trim() || \"Stranger\";\r\n+    return `${display}${age ? ` (${age})` : \"\"}${country ? ` - ${country}` : \"\"}`;\r\n   };\r\n \r\n   return (\r\n     <div className=\"relative w-full px-3 py-2 flex\">\r\n@@ -116,9 +119,9 @@\n             minute: \"2-digit\",\r\n           })}\r\n         </div>\r\n \r\n-        {/* Bubble */}\r\n+        {/* Message bubble */}\r\n         <div\r\n           className={`relative group px-4 py-2 rounded-2xl text-sm shadow-md transition-all duration-200 break-words ${\r\n             isSender\r\n               ? \"bg-blue-600 text-white rounded-br-md\"\r\n@@ -173,9 +176,9 @@\n               )}\r\n             </>\r\n           )}\r\n \r\n-          {/* Actions */}\r\n+          {/* Action buttons */}\r\n           {!isEditing && (\r\n             <div\r\n               className={`absolute top-1 ${\r\n                 isSender\r\n@@ -227,9 +230,9 @@\n             </div>\r\n           )}\r\n         </div>\r\n \r\n-        {/* Status */}\r\n+        {/* Message status */}\r\n         {isSender && status && (\r\n           <div className=\"text-[10px] text-neutral-400 mt-1\">\r\n             {status === \"seen\"\r\n               ? \"Seen âœ…\"\r\n"
                },
                {
                    "date": 1753190290496,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,10 +90,16 @@\n   };\r\n \r\n   const getDisplayName = () => {\r\n     if (isSender) return \"You\";\r\n-    const display = name?.trim() || \"Stranger\";\r\n-    return `${display}${age ? ` (${age})` : \"\"}${country ? ` - ${country}` : \"\"}`;\r\n+    const displayName = name?.trim();\r\n+    const displayAge = age !== undefined && age !== null ? String(age).trim() : \"\";\r\n+    const displayCountry = country?.trim();\r\n+\r\n+    if (!displayName) return \"Stranger\";\r\n+    return `${displayName}${displayAge ? ` (${displayAge})` : \"\"}${\r\n+      displayCountry ? ` - ${displayCountry}` : \"\"\r\n+    }`;\r\n   };\r\n \r\n   return (\r\n     <div className=\"relative w-full px-3 py-2 flex\">\r\n"
                },
                {
                    "date": 1753190542255,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -88,20 +88,21 @@\n         return <p className=\"whitespace-pre-wrap break-words\">{content}</p>;\r\n     }\r\n   };\r\n \r\n-  const getDisplayName = () => {\r\n-    if (isSender) return \"You\";\r\n-    const displayName = name?.trim();\r\n-    const displayAge = age !== undefined && age !== null ? String(age).trim() : \"\";\r\n-    const displayCountry = country?.trim();\r\n+const getDisplayName = () => {\r\n+  if (isSender) return \"You\";\r\n \r\n-    if (!displayName) return \"Stranger\";\r\n-    return `${displayName}${displayAge ? ` (${displayAge})` : \"\"}${\r\n-      displayCountry ? ` - ${displayCountry}` : \"\"\r\n-    }`;\r\n-  };\r\n+  const hasDetails = name || age || country;\r\n \r\n+  const displayName = name?.trim();\r\n+  const agePart = age ? ` (${age})` : \"\";\r\n+  const countryPart = country ? ` - ${country}` : \"\";\r\n+\r\n+  return hasDetails ? `${displayName || \"Stranger\"}${agePart}${countryPart}` : \"Stranger\";\r\n+};\r\n+\r\n+\r\n   return (\r\n     <div className=\"relative w-full px-3 py-2 flex\">\r\n       {burst && !isSender && (\r\n         <Confetti\r\n"
                },
                {
                    "date": 1759345511686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -88,21 +88,16 @@\n         return <p className=\"whitespace-pre-wrap break-words\">{content}</p>;\r\n     }\r\n   };\r\n \r\n-const getDisplayName = () => {\r\n-  if (isSender) return \"You\";\r\n+  const getDisplayName = () => {\r\n+    if (isSender) return \"You\";\r\n+    const displayName = name?.trim() || \"Stranger\";\r\n+    const agePart = age ? ` (${age})` : \"\";\r\n+    const countryPart = country ? ` - ${country}` : \"\";\r\n+    return `${displayName}${agePart}${countryPart}`;\r\n+  };\r\n \r\n-  const hasDetails = name || age || country;\r\n-\r\n-  const displayName = name?.trim();\r\n-  const agePart = age ? ` (${age})` : \"\";\r\n-  const countryPart = country ? ` - ${country}` : \"\";\r\n-\r\n-  return hasDetails ? `${displayName || \"Stranger\"}${agePart}${countryPart}` : \"Stranger\";\r\n-};\r\n-\r\n-\r\n   return (\r\n     <div className=\"relative w-full px-3 py-2 flex\">\r\n       {burst && !isSender && (\r\n         <Confetti\r\n@@ -117,18 +112,18 @@\n         className={`flex flex-col ${\r\n           isSender ? \"items-end ml-auto\" : \"items-start mr-auto\"\r\n         } w-full max-w-[90%] sm:max-w-[75%] md:max-w-[60%]`}\r\n       >\r\n-        {/* Sender + time */}\r\n+        {/* Sender + Time */}\r\n         <div className=\"text-xs text-neutral-500 dark:text-neutral-400 mb-1\">\r\n           {getDisplayName()} â€¢{\" \"}\r\n           {new Date(timestamp).toLocaleTimeString([], {\r\n             hour: \"2-digit\",\r\n             minute: \"2-digit\",\r\n           })}\r\n         </div>\r\n \r\n-        {/* Message bubble */}\r\n+        {/* Message Bubble */}\r\n         <div\r\n           className={`relative group px-4 py-2 rounded-2xl text-sm shadow-md transition-all duration-200 break-words ${\r\n             isSender\r\n               ? \"bg-blue-600 text-white rounded-br-md\"\r\n@@ -167,9 +162,9 @@\n           ) : (\r\n             <>\r\n               {type === \"text\" ? <span>{content}</span> : renderMedia()}\r\n \r\n-              {/* Reactions */}\r\n+              {/* Reactions Display */}\r\n               {Object.values(reactions).length > 0 && (\r\n                 <div className=\"mt-2 flex flex-wrap gap-1 text-xl\">\r\n                   {Object.values(reactions).map((emoji, idx) => (\r\n                     <span\r\n@@ -183,9 +178,9 @@\n               )}\r\n             </>\r\n           )}\r\n \r\n-          {/* Action buttons */}\r\n+          {/* Action Buttons */}\r\n           {!isEditing && (\r\n             <div\r\n               className={`absolute top-1 ${\r\n                 isSender\r\n@@ -237,9 +232,9 @@\n             </div>\r\n           )}\r\n         </div>\r\n \r\n-        {/* Message status */}\r\n+        {/* Message Status */}\r\n         {isSender && status && (\r\n           <div className=\"text-[10px] text-neutral-400 mt-1\">\r\n             {status === \"seen\"\r\n               ? \"Seen âœ…\"\r\n"
                },
                {
                    "date": 1759756801247,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -246,4 +246,5 @@\n       </div>\r\n     </div>\r\n   );\r\n }\r\n+ \n\\ No newline at end of file\n"
                },
                {
                    "date": 1759757781661,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,13 +9,13 @@\n   sender: \"me\" | \"partner\";\r\n   content: string;\r\n   timestamp: string;\r\n   status?: \"sent\" | \"delivered\" | \"seen\";\r\n-  type?: \"text\" | \"image\" | \"audio\" | \"video\";\r\n+  type?: \"text\" | \"image\" | \"audio\" | \"video\" | \"file\";\r\n   reactions?: { [userId: string]: string };\r\n-  onDelete?: () => void;\r\n-  onEdit?: (newContent: string) => void;\r\n-  onReact?: (reaction: string) => void;\r\n+  onDelete?: (id: string) => void;\r\n+  onEdit?: (id: string, newContent: string) => void;\r\n+  onReact?: (id: string, reaction: string) => void;\r\n   name?: string;\r\n   age?: string | number;\r\n   country?: string;\r\n }\r\n@@ -51,9 +51,9 @@\n \r\n   const handleEditSubmit = () => {\r\n     const trimmed = editedContent.trim();\r\n     if (trimmed && trimmed !== content) {\r\n-      onEdit?.(trimmed);\r\n+      onEdit?.(id, trimmed);\r\n     }\r\n     setIsEditing(false);\r\n   };\r\n \r\n@@ -69,9 +69,9 @@\n       case \"image\":\r\n         return (\r\n           <img\r\n             src={content}\r\n-            alt=\"Image\"\r\n+            alt=\"Sent image\"\r\n             className=\"rounded-xl max-w-full mt-2 border border-gray-300 dark:border-gray-600 object-contain\"\r\n           />\r\n         );\r\n       case \"audio\":\r\n@@ -83,8 +83,19 @@\n             src={content}\r\n             className=\"mt-2 w-full rounded-xl max-h-64\"\r\n           />\r\n         );\r\n+      case \"file\":\r\n+        return (\r\n+          <a\r\n+            href={content}\r\n+            target=\"_blank\"\r\n+            rel=\"noopener noreferrer\"\r\n+            className=\"underline text-blue-400 hover:text-blue-300\"\r\n+          >\r\n+            ğŸ“ Download file\r\n+          </a>\r\n+        );\r\n       default:\r\n         return <p className=\"whitespace-pre-wrap break-words\">{content}</p>;\r\n     }\r\n   };\r\n@@ -103,9 +114,10 @@\n         <Confetti\r\n           width={width}\r\n           height={height}\r\n           recycle={false}\r\n-          numberOfPieces={100}\r\n+          numberOfPieces={80}\r\n+          gravity={0.3}\r\n         />\r\n       )}\r\n \r\n       <div\r\n@@ -160,9 +172,9 @@\n               </div>\r\n             </div>\r\n           ) : (\r\n             <>\r\n-              {type === \"text\" ? <span>{content}</span> : renderMedia()}\r\n+              {renderMedia()}\r\n \r\n               {/* Reactions Display */}\r\n               {Object.values(reactions).length > 0 && (\r\n                 <div className=\"mt-2 flex flex-wrap gap-1 text-xl\">\r\n@@ -185,24 +197,33 @@\n               className={`absolute top-1 ${\r\n                 isSender\r\n                   ? \"right-2 text-white\"\r\n                   : \"left-2 text-black dark:text-white\"\r\n-              } hidden group-hover:flex gap-1 text-sm z-10`}\r\n+              } hidden group-hover:flex gap-2 text-sm z-10`}\r\n             >\r\n               {isSender && onEdit && (\r\n-                <button onClick={() => setIsEditing(true)} title=\"Edit\">\r\n+                <button\r\n+                  onClick={() => setIsEditing(true)}\r\n+                  title=\"Edit message\"\r\n+                  className=\"hover:scale-110\"\r\n+                >\r\n                   âœï¸\r\n                 </button>\r\n               )}\r\n               {isSender && onDelete && (\r\n-                <button onClick={onDelete} title=\"Delete\">\r\n+                <button\r\n+                  onClick={() => onDelete(id)}\r\n+                  title=\"Delete message\"\r\n+                  className=\"hover:scale-110\"\r\n+                >\r\n                   ğŸ—‘ï¸\r\n                 </button>\r\n               )}\r\n               {onReact && (\r\n                 <button\r\n                   onClick={() => setShowReactions((s) => !s)}\r\n                   title=\"React\"\r\n+                  className=\"hover:scale-110\"\r\n                 >\r\n                   ğŸ˜Š\r\n                 </button>\r\n               )}\r\n@@ -219,9 +240,9 @@\n               {topEmojis.map((emoji) => (\r\n                 <button\r\n                   key={emoji}\r\n                   onClick={() => {\r\n-                    onReact?.(emoji);\r\n+                    onReact?.(id, emoji);\r\n                     triggerConfetti();\r\n                     setShowReactions(false);\r\n                   }}\r\n                   className=\"text-xl hover:scale-125 transition-transform duration-150\"\r\n@@ -246,5 +267,4 @@\n       </div>\r\n     </div>\r\n   );\r\n }\r\n- \n\\ No newline at end of file\n"
                },
                {
                    "date": 1759859745528,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,269 @@\n+\"use client\";\r\n+\r\n+import React, { useEffect, useState } from \"react\";\r\n+import Confetti from \"react-confetti\";\r\n+import { useWindowSize } from \"@react-hook/window-size\";\r\n+\r\n+interface MessageProps {\r\n+  id: string;\r\n+  sender: \"me\" | \"partner\";\r\n+  content: string;\r\n+  timestamp: string;\r\n+  status?: \"sent\" | \"delivered\" | \"seen\";\r\n+  type?: \"text\" | \"image\" | \"audio\" | \"video\" | \"file\";\r\n+  reactions?: { [userId: string]: string };\r\n+  onDelete?: (id: string) => void;\r\n+  onEdit?: (id: string, newContent: string) => void;\r\n+  onReact?: (id: string, reaction: string) => void;\r\n+  name?: string;\r\n+  age?: string | number;\r\n+  country?: string;\r\n+}\r\n+\r\n+const topEmojis = [\"ğŸ˜‚\", \"â¤ï¸\", \"ğŸ”¥\", \"ğŸ‘\", \"ğŸ˜\", \"ğŸ˜­\"];\r\n+\r\n+export default function Message({\r\n+  id,\r\n+  sender,\r\n+  content,\r\n+  timestamp,\r\n+  status,\r\n+  type = \"text\",\r\n+  reactions = {},\r\n+  onDelete,\r\n+  onEdit,\r\n+  onReact,\r\n+  name,\r\n+  age,\r\n+  country,\r\n+}: MessageProps) {\r\n+  const [isEditing, setIsEditing] = useState(false);\r\n+  const [editedContent, setEditedContent] = useState(content);\r\n+  const [showReactions, setShowReactions] = useState(false);\r\n+  const [burst, setBurst] = useState(false);\r\n+  const [width, height] = useWindowSize();\r\n+\r\n+  const isSender = sender === \"me\";\r\n+\r\n+  useEffect(() => {\r\n+    setEditedContent(content);\r\n+  }, [content]);\r\n+\r\n+  const handleEditSubmit = () => {\r\n+    const trimmed = editedContent.trim();\r\n+    if (trimmed && trimmed !== content) {\r\n+      onEdit?.(id, trimmed);\r\n+    }\r\n+    setIsEditing(false);\r\n+  };\r\n+\r\n+  const triggerConfetti = () => {\r\n+    if (!isSender) {\r\n+      setBurst(true);\r\n+      setTimeout(() => setBurst(false), 900);\r\n+    }\r\n+  };\r\n+\r\n+  const renderMedia = () => {\r\n+    switch (type) {\r\n+      case \"image\":\r\n+        return (\r\n+          <img\r\n+            src={content}\r\n+            alt=\"Sent image\"\r\n+            className=\"rounded-xl max-w-full mt-2 border border-gray-300 dark:border-gray-600 object-contain\"\r\n+          />\r\n+        );\r\n+      case \"audio\":\r\n+        return <audio controls src={content} className=\"mt-2 w-full rounded\" />;\r\n+      case \"video\":\r\n+        return (\r\n+          <video\r\n+            controls\r\n+            src={content}\r\n+            className=\"mt-2 w-full rounded-xl max-h-64\"\r\n+          />\r\n+        );\r\n+      case \"file\":\r\n+        return (\r\n+          <a\r\n+            href={content}\r\n+            target=\"_blank\"\r\n+            rel=\"noopener noreferrer\"\r\n+            className=\"underline text-blue-400 hover:text-blue-300\"\r\n+          >\r\n+            ğŸ“ Download file\r\n+          </a>\r\n+        );\r\n+      default:\r\n+        return <p className=\"whitespace-pre-wrap break-words\">{content}</p>;\r\n+    }\r\n+  };\r\n+\r\n+  const getDisplayName = () => {\r\n+    if (isSender) return \"You\";\r\n+    const displayName = name?.trim() || \"Stranger\";\r\n+    const agePart = age ? ` (${age})` : \"\";\r\n+    const countryPart = country ? ` - ${country}` : \"\";\r\n+    return `${displayName}${agePart}${countryPart}`;\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"relative w-full px-3 py-2 flex\">\r\n+      {burst && !isSender && (\r\n+        <Confetti\r\n+          width={width}\r\n+          height={height}\r\n+          recycle={false}\r\n+          numberOfPieces={80}\r\n+          gravity={0.3}\r\n+        />\r\n+      )}\r\n+\r\n+      <div\r\n+        className={`flex flex-col ${\r\n+          isSender ? \"items-end ml-auto\" : \"items-start mr-auto\"\r\n+        } w-full max-w-[90%] sm:max-w-[75%] md:max-w-[60%]`}\r\n+      >\r\n+        {/* Sender Name + Timestamp */}\r\n+        <div className=\"text-xs text-neutral-500 dark:text-neutral-400 mb-1\">\r\n+          {getDisplayName()} â€¢{\" \"}\r\n+          {new Date(timestamp).toLocaleTimeString([], {\r\n+            hour: \"2-digit\",\r\n+            minute: \"2-digit\",\r\n+          })}\r\n+        </div>\r\n+\r\n+        {/* Message Bubble */}\r\n+        <div\r\n+          className={`relative group px-4 py-2 rounded-2xl text-sm shadow-md transition-all duration-200 break-words ${\r\n+            isSender\r\n+              ? \"bg-blue-600 text-white rounded-br-md\"\r\n+              : \"bg-neutral-100 dark:bg-neutral-700 text-neutral-900 dark:text-white rounded-bl-md\"\r\n+          }`}\r\n+        >\r\n+          {isEditing ? (\r\n+            <div className=\"flex flex-col gap-2\">\r\n+              <input\r\n+                type=\"text\"\r\n+                className=\"text-black px-3 py-2 rounded-md text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n+                value={editedContent}\r\n+                onChange={(e) => setEditedContent(e.target.value)}\r\n+                autoFocus\r\n+                placeholder=\"Edit your message\"\r\n+              />\r\n+              <div className=\"flex justify-end gap-3 text-xs\">\r\n+                <button\r\n+                  onClick={handleEditSubmit}\r\n+                  className=\"text-green-600 hover:underline\"\r\n+                >\r\n+                  Save\r\n+                </button>\r\n+                <button\r\n+                  onClick={() => {\r\n+                    setEditedContent(content);\r\n+                    setIsEditing(false);\r\n+                  }}\r\n+                  className=\"text-red-500 hover:underline\"\r\n+                >\r\n+                  Cancel\r\n+                </button>\r\n+              </div>\r\n+            </div>\r\n+          ) : (\r\n+            <>\r\n+              {renderMedia()}\r\n+\r\n+              {/* Reactions */}\r\n+              {Object.values(reactions).length > 0 && (\r\n+                <div className=\"mt-2 flex flex-wrap gap-1 text-xl\">\r\n+                  {Object.values(reactions).map((emoji, idx) => (\r\n+                    <span\r\n+                      key={idx}\r\n+                      className=\"hover:scale-110 transition-transform\"\r\n+                    >\r\n+                      {emoji}\r\n+                    </span>\r\n+                  ))}\r\n+                </div>\r\n+              )}\r\n+            </>\r\n+          )}\r\n+\r\n+          {/* Edit / Delete / React Buttons */}\r\n+          {!isEditing && (\r\n+            <div\r\n+              className={`absolute top-1 ${\r\n+                isSender\r\n+                  ? \"right-2 text-white\"\r\n+                  : \"left-2 text-black dark:text-white\"\r\n+              } hidden group-hover:flex gap-2 text-sm z-10`}\r\n+            >\r\n+              {isSender && onEdit && (\r\n+                <button\r\n+                  onClick={() => setIsEditing(true)}\r\n+                  title=\"Edit\"\r\n+                  className=\"hover:scale-110\"\r\n+                >\r\n+                  âœï¸\r\n+                </button>\r\n+              )}\r\n+              {isSender && onDelete && (\r\n+                <button\r\n+                  onClick={() => onDelete(id)}\r\n+                  title=\"Delete\"\r\n+                  className=\"hover:scale-110\"\r\n+                >\r\n+                  ğŸ—‘ï¸\r\n+                </button>\r\n+              )}\r\n+              {onReact && (\r\n+                <button\r\n+                  onClick={() => setShowReactions((s) => !s)}\r\n+                  title=\"React\"\r\n+                  className=\"hover:scale-110\"\r\n+                >\r\n+                  ğŸ˜Š\r\n+                </button>\r\n+              )}\r\n+            </div>\r\n+          )}\r\n+\r\n+          {/* Emoji Reaction Picker */}\r\n+          {showReactions && (\r\n+            <div\r\n+              className={`absolute top-full mt-2 z-50 bg-white dark:bg-neutral-800 px-3 py-2 border border-neutral-300 dark:border-neutral-700 rounded-xl shadow-lg flex flex-row gap-2 ${\r\n+                isSender ? \"right-0\" : \"left-0\"\r\n+              }`}\r\n+            >\r\n+              {topEmojis.map((emoji) => (\r\n+                <button\r\n+                  key={emoji}\r\n+                  onClick={() => {\r\n+                    onReact?.(id, emoji);\r\n+                    triggerConfetti();\r\n+                    setShowReactions(false);\r\n+                  }}\r\n+                  className=\"text-xl hover:scale-125 transition-transform duration-150\"\r\n+                >\r\n+                  {emoji}\r\n+                </button>\r\n+              ))}\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+\r\n+        {/* Message Status */}\r\n+        {isSender && status && (\r\n+          <div className=\"text-[10px] text-neutral-400 mt-1\">\r\n+            {status === \"seen\"\r\n+              ? \"Seen âœ…\"\r\n+              : status === \"delivered\"\r\n+              ? \"Delivered âœ”ï¸\"\r\n+              : \"Sent\"}\r\n+          </div>\r\n+        )}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1759972676867,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,250 @@\n+\"use client\";\r\n+\r\n+import React, { useEffect, useState } from \"react\";\r\n+import Confetti from \"react-confetti\";\r\n+import { useWindowSize } from \"@react-hook/window-size\";\r\n+\r\n+interface MessageProps {\r\n+  id: string;\r\n+  sender: \"me\" | \"partner\";\r\n+  content: string;\r\n+  timestamp: string;\r\n+  status?: \"sent\" | \"delivered\" | \"seen\";\r\n+  type?: \"text\" | \"image\" | \"audio\" | \"video\" | \"file\";\r\n+  reactions?: { [userId: string]: string };\r\n+  onDelete?: (id: string) => void;\r\n+  onEdit?: (id: string, newContent: string) => void;\r\n+  onReact?: (id: string, reaction: string) => void;\r\n+  name?: string;\r\n+  age?: string | number;\r\n+  country?: string;\r\n+}\r\n+\r\n+const topEmojis = [\"ğŸ˜‚\", \"â¤ï¸\", \"ğŸ”¥\", \"ğŸ‘\", \"ğŸ˜\", \"ğŸ˜­\"];\r\n+\r\n+export default function Message({\r\n+  id,\r\n+  sender,\r\n+  content,\r\n+  timestamp,\r\n+  status,\r\n+  type = \"text\",\r\n+  reactions = {},\r\n+  onDelete,\r\n+  onEdit,\r\n+  onReact,\r\n+  name,\r\n+  age,\r\n+  country,\r\n+}: MessageProps) {\r\n+  const [isEditing, setIsEditing] = useState(false);\r\n+  const [editedContent, setEditedContent] = useState(content);\r\n+  const [showReactions, setShowReactions] = useState(false);\r\n+  const [burst, setBurst] = useState(false);\r\n+  const [width, height] = useWindowSize();\r\n+\r\n+  const isSender = sender === \"me\";\r\n+\r\n+  useEffect(() => {\r\n+    setEditedContent(content);\r\n+  }, [content]);\r\n+\r\n+  const handleEditSubmit = () => {\r\n+    const trimmed = editedContent.trim();\r\n+    if (trimmed && trimmed !== content) {\r\n+      onEdit?.(id, trimmed);\r\n+    }\r\n+    setIsEditing(false);\r\n+  };\r\n+\r\n+  const triggerConfetti = () => {\r\n+    if (!isSender) {\r\n+      setBurst(true);\r\n+      setTimeout(() => setBurst(false), 900);\r\n+    }\r\n+  };\r\n+\r\n+  const renderMedia = () => {\r\n+    switch (type) {\r\n+      case \"image\":\r\n+        return (\r\n+          <img\r\n+            src={content}\r\n+            alt=\"Sent image\"\r\n+            className=\"rounded-xl max-w-full mt-2 border border-gray-300 dark:border-gray-600 object-contain\"\r\n+          />\r\n+        );\r\n+      case \"audio\":\r\n+        return <audio controls src={content} className=\"mt-2 w-full rounded\" />;\r\n+      case \"video\":\r\n+        return (\r\n+          <video\r\n+            controls\r\n+            src={content}\r\n+            className=\"mt-2 w-full rounded-xl max-h-64\"\r\n+          />\r\n+        );\r\n+      case \"file\":\r\n+        return (\r\n+          <a\r\n+            href={content}\r\n+            target=\"_blank\"\r\n+            rel=\"noopener noreferrer\"\r\n+            className=\"underline text-blue-500 hover:text-blue-400 mt-2 block\"\r\n+          >\r\n+            ğŸ“ Download file\r\n+          </a>\r\n+        );\r\n+      default:\r\n+        return <p className=\"whitespace-pre-wrap break-words\">{content}</p>;\r\n+    }\r\n+  };\r\n+\r\n+  const getDisplayName = () => {\r\n+    if (isSender) return \"You\";\r\n+    const displayName = name?.trim() || \"Stranger\";\r\n+    const agePart = age ? ` (${age})` : \"\";\r\n+    const countryPart = country ? ` - ${country}` : \"\";\r\n+    return `${displayName}${agePart}${countryPart}`;\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"relative w-full px-3 py-2 flex\">\r\n+      {burst && !isSender && (\r\n+        <Confetti width={width} height={height} recycle={false} numberOfPieces={80} gravity={0.3} />\r\n+      )}\r\n+\r\n+      <div\r\n+        className={`flex flex-col ${\r\n+          isSender ? \"items-end ml-auto\" : \"items-start mr-auto\"\r\n+        } w-full max-w-[90%] sm:max-w-[75%] md:max-w-[60%]`}\r\n+      >\r\n+        {/* Sender Name + Timestamp */}\r\n+        <div className=\"text-xs text-neutral-500 dark:text-neutral-400 mb-1\">\r\n+          {getDisplayName()} â€¢{\" \"}\r\n+          {new Date(timestamp).toLocaleTimeString([], {\r\n+            hour: \"2-digit\",\r\n+            minute: \"2-digit\",\r\n+          })}\r\n+        </div>\r\n+\r\n+        {/* Message Bubble */}\r\n+        <div\r\n+          className={`relative group px-4 py-2 rounded-2xl text-sm shadow-md transition-all duration-200 break-words ${\r\n+            isSender\r\n+              ? \"bg-blue-600 text-white rounded-br-md\"\r\n+              : \"bg-neutral-100 dark:bg-neutral-700 text-neutral-900 dark:text-white rounded-bl-md\"\r\n+          }`}\r\n+        >\r\n+          {isEditing ? (\r\n+            <div className=\"flex flex-col gap-2\">\r\n+              <input\r\n+                type=\"text\"\r\n+                className=\"text-black dark:text-white px-3 py-2 rounded-md text-sm border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n+                value={editedContent}\r\n+                onChange={(e) => setEditedContent(e.target.value)}\r\n+                autoFocus\r\n+                placeholder=\"Edit your message\"\r\n+              />\r\n+              <div className=\"flex justify-end gap-3 text-xs\">\r\n+                <button\r\n+                  onClick={handleEditSubmit}\r\n+                  className=\"text-green-600 hover:underline\"\r\n+                >\r\n+                  Save\r\n+                </button>\r\n+                <button\r\n+                  onClick={() => {\r\n+                    setEditedContent(content);\r\n+                    setIsEditing(false);\r\n+                  }}\r\n+                  className=\"text-red-500 hover:underline\"\r\n+                >\r\n+                  Cancel\r\n+                </button>\r\n+              </div>\r\n+            </div>\r\n+          ) : (\r\n+            <>\r\n+              {renderMedia()}\r\n+\r\n+              {/* Reactions */}\r\n+              {Object.values(reactions).length > 0 && (\r\n+                <div className=\"mt-2 flex flex-wrap gap-1 text-xl\">\r\n+                  {Object.values(reactions).map((emoji, idx) => (\r\n+                    <span key={idx} className=\"hover:scale-110 transition-transform\">\r\n+                      {emoji}\r\n+                    </span>\r\n+                  ))}\r\n+                </div>\r\n+              )}\r\n+            </>\r\n+          )}\r\n+\r\n+          {/* Edit / Delete / React Buttons */}\r\n+          {!isEditing && (\r\n+            <div\r\n+              className={`absolute top-1 ${\r\n+                isSender ? \"right-2 text-white\" : \"left-2 text-black dark:text-white\"\r\n+              } hidden group-hover:flex gap-2 text-sm z-10`}\r\n+            >\r\n+              {isSender && onEdit && (\r\n+                <button onClick={() => setIsEditing(true)} title=\"Edit\" className=\"hover:scale-110\">\r\n+                  âœï¸\r\n+                </button>\r\n+              )}\r\n+              {isSender && onDelete && (\r\n+                <button onClick={() => onDelete(id)} title=\"Delete\" className=\"hover:scale-110\">\r\n+                  ğŸ—‘ï¸\r\n+                </button>\r\n+              )}\r\n+              {onReact && (\r\n+                <button\r\n+                  onClick={() => setShowReactions((s) => !s)}\r\n+                  title=\"React\"\r\n+                  className=\"hover:scale-110\"\r\n+                >\r\n+                  ğŸ˜Š\r\n+                </button>\r\n+              )}\r\n+            </div>\r\n+          )}\r\n+\r\n+          {/* Emoji Reaction Picker */}\r\n+          {showReactions && (\r\n+            <div\r\n+              className={`absolute top-full mt-2 z-50 bg-white dark:bg-neutral-800 px-3 py-2 border border-neutral-300 dark:border-neutral-700 rounded-xl shadow-lg flex flex-row gap-2 ${\r\n+                isSender ? \"right-0\" : \"left-0\"\r\n+              }`}\r\n+            >\r\n+              {topEmojis.map((emoji) => (\r\n+                <button\r\n+                  key={emoji}\r\n+                  onClick={() => {\r\n+                    onReact?.(id, emoji);\r\n+                    triggerConfetti();\r\n+                    setShowReactions(false);\r\n+                  }}\r\n+                  className=\"text-xl hover:scale-125 transition-transform duration-150\"\r\n+                >\r\n+                  {emoji}\r\n+                </button>\r\n+              ))}\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+\r\n+        {/* Message Status */}\r\n+        {isSender && status && (\r\n+          <div className=\"text-[10px] text-neutral-400 mt-1\">\r\n+            {status === \"seen\"\r\n+              ? \"Seen âœ…\"\r\n+              : status === \"delivered\"\r\n+              ? \"Delivered âœ”ï¸\"\r\n+              : \"Sent\"}\r\n+          </div>\r\n+        )}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                }
            ],
            "date": 1752230228087,
            "name": "Commit-0",
            "content": "\"use client\";\r\n\r\nimport React from \"react\";\r\n\r\ninterface MessageProps {\r\n  content: string;\r\n  sender: \"me\" | \"partner\";\r\n}\r\n\r\nexport default function Message({ content, sender }: MessageProps) {\r\n  return (\r\n    <div\r\n      className={`mb-2 px-4 py-2 rounded-lg text-sm max-w-xs break-words ${\r\n        sender === \"me\"\r\n          ? \"bg-blue-600 text-white self-end\"\r\n          : \"bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 self-start\"\r\n      }`}\r\n    >\r\n      {content}\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}