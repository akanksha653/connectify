{
    "sourceFile": "src/app/components/common/Navbar.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1760250145343,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1760250145343,
            "name": "Commit-0",
            "content": "\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport {\r\n  Menu,\r\n  X,\r\n  Sun,\r\n  Moon,\r\n  Heart,\r\n  Mail,\r\n  HelpCircle,\r\n  User,\r\n} from \"lucide-react\";\r\nimport ProfileDropdown from \"./ProfileDropdown\";\r\nimport { useAuth } from \"../../auth/authContext\"; // make sure this points to your context\r\n\r\nexport default function Navbar() {\r\n  const pathname = usePathname();\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n\r\n  const { userId } = useAuth(); // firebase auth state\r\n  const userLoggedIn = !!userId;\r\n\r\n  // ðŸŒ™ Initialize theme with localStorage or system preference\r\n  const [isDark, setIsDark] = useState(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      const stored = localStorage.getItem(\"theme\");\r\n      if (stored) return stored === \"dark\";\r\n      return window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\r\n    }\r\n    return false;\r\n  });\r\n\r\n  useEffect(() => {\r\n    const root = document.documentElement;\r\n    if (isDark) {\r\n      root.classList.add(\"dark\");\r\n      localStorage.setItem(\"theme\", \"dark\");\r\n    } else {\r\n      root.classList.remove(\"dark\");\r\n      localStorage.setItem(\"theme\", \"light\");\r\n    }\r\n  }, [isDark]);\r\n\r\n  const toggleTheme = () => setIsDark((prev) => !prev);\r\n  const toggleMenu = () => setIsMenuOpen((prev) => !prev);\r\n\r\n  const linkClass = (path: string) =>\r\n    `flex items-center gap-1 text-sm transition-colors ${\r\n      pathname === path\r\n        ? \"text-blue-600 dark:text-blue-400 font-medium\"\r\n        : \"text-neutral-700 dark:text-neutral-200 hover:text-blue-600 dark:hover:text-blue-400\"\r\n    }`;\r\n\r\n  return (\r\n    <nav className=\"sticky top-0 z-50 bg-white/80 dark:bg-neutral-900/80 backdrop-blur transition-colors duration-300 shadow-sm border-b border-neutral-200 dark:border-neutral-700\">\r\n      <div className=\"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between\">\r\n        {/* Left: Logo */}\r\n        <div className=\"text-xl font-semibold text-neutral-800 dark:text-neutral-100 transition-colors\">\r\n          <Link href=\"/home\">Connectify ~ Anonymous Chat</Link>\r\n        </div>\r\n\r\n        {/* Desktop Nav */}\r\n        <div className=\"hidden md:flex items-center gap-6\">\r\n          {/* Theme Toggle */}\r\n          <button\r\n            onClick={toggleTheme}\r\n            className=\"text-neutral-700 dark:text-neutral-200 hover:text-blue-600 dark:hover:text-blue-400 transition-colors\"\r\n            title=\"Toggle Dark Mode\"\r\n          >\r\n            {isDark ? <Sun className=\"w-5 h-5\" /> : <Moon className=\"w-5 h-5\" />}\r\n          </button>\r\n\r\n          <Link href=\"/support\" className={linkClass(\"/support\")}>\r\n            <HelpCircle className=\"w-4 h-4\" />\r\n            Support\r\n          </Link>\r\n\r\n          <Link href=\"/contact\" className={linkClass(\"/contact\")}>\r\n            <Mail className=\"w-4 h-4\" />\r\n            Contact Us\r\n          </Link>\r\n\r\n          <Link\r\n            href=\"/donate\"\r\n            className=\"inline-flex items-center gap-1 px-3 py-1.5 rounded-lg bg-pink-600 hover:bg-pink-700 text-white text-sm shadow transition-colors\"\r\n          >\r\n            <Heart className=\"w-4 h-4\" />\r\n            Donate\r\n          </Link>\r\n\r\n          {userLoggedIn ? <ProfileDropdown /> : <User className=\"w-5 h-5 text-neutral-600 dark:text-neutral-300\" />}\r\n        </div>\r\n\r\n        {/* Mobile Hamburger + Theme */}\r\n        <div className=\"md:hidden flex items-center gap-3\">\r\n          <button\r\n            onClick={toggleTheme}\r\n            className=\"text-neutral-700 dark:text-neutral-200 hover:text-blue-600 dark:hover:text-blue-400 transition-colors\"\r\n            title=\"Toggle Dark Mode\"\r\n          >\r\n            {isDark ? <Sun className=\"w-5 h-5\" /> : <Moon className=\"w-5 h-5\" />}\r\n          </button>\r\n\r\n          <button\r\n            onClick={toggleMenu}\r\n            className=\"text-neutral-800 dark:text-neutral-100 focus:outline-none transition-colors\"\r\n          >\r\n            {isMenuOpen ? <X className=\"w-6 h-6\" /> : <Menu className=\"w-6 h-6\" />}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Mobile Dropdown Menu */}\r\n      {isMenuOpen && (\r\n        <div className=\"md:hidden px-4 pb-4 space-y-3 border-t border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 transition-colors\">\r\n          <Link href=\"/support\" className={linkClass(\"/support\")}>\r\n            Support\r\n          </Link>\r\n          <Link href=\"/contact\" className={linkClass(\"/contact\")}>\r\n            Contact Us\r\n          </Link>\r\n          <Link\r\n            href=\"/donate\"\r\n            className=\"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-pink-600 hover:bg-pink-700 text-white text-sm shadow transition-colors\"\r\n          >\r\n            <Heart className=\"w-4 h-4\" />\r\n            Donate\r\n          </Link>\r\n          <div className=\"pt-2 border-t border-neutral-300 dark:border-neutral-600\">\r\n            {userLoggedIn ? (\r\n              <ProfileDropdown />\r\n            ) : (\r\n              <div className=\"text-neutral-600 dark:text-neutral-300 flex items-center gap-2 text-sm\">\r\n                <User className=\"w-4 h-4\" /> Guest\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </nav>\r\n  );\r\n}\r\n"
        }
    ]
}