{
    "sourceFile": "src/app/contact/page.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1752595018460,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1752595063477,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,8 +41,9 @@\n               name=\"name\"\r\n               required\r\n               value={form.name}\r\n               onChange={handleChange}\r\n+              placeholder=\"Enter your name\"\r\n               className=\"mt-1 w-full px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white shadow-sm focus:outline-none\"\r\n             />\r\n           </div>\r\n \r\n@@ -55,8 +56,9 @@\n               name=\"email\"\r\n               required\r\n               value={form.email}\r\n               onChange={handleChange}\r\n+              placeholder=\"Enter your email\"\r\n               className=\"mt-1 w-full px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white shadow-sm focus:outline-none\"\r\n             />\r\n           </div>\r\n \r\n@@ -69,8 +71,9 @@\n               rows={5}\r\n               required\r\n               value={form.message}\r\n               onChange={handleChange}\r\n+              placeholder=\"Enter your message\"\r\n               className=\"mt-1 w-full px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white shadow-sm focus:outline-none\"\r\n             />\r\n           </div>\r\n \r\n"
                },
                {
                    "date": 1760121387341,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,22 +2,42 @@\n \"use client\";\r\n \r\n import React, { useState } from \"react\";\r\n import { Mail } from \"lucide-react\";\r\n+import { db } from \"@/lib/firebaseConfig\";\r\n+import { collection, addDoc, serverTimestamp } from \"firebase/firestore\";\r\n \r\n export default function ContactPage() {\r\n   const [form, setForm] = useState({ name: \"\", email: \"\", message: \"\" });\r\n   const [submitted, setSubmitted] = useState(false);\r\n+  const [loading, setLoading] = useState(false);\r\n \r\n-  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n+  const handleChange = (\r\n+    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n+  ) => {\r\n     setForm({ ...form, [e.target.name]: e.target.value });\r\n   };\r\n \r\n-  const handleSubmit = (e: React.FormEvent) => {\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n     e.preventDefault();\r\n-    // Fake submit logic\r\n-    console.log(\"Contact form submitted:\", form);\r\n-    setSubmitted(true);\r\n+    setLoading(true);\r\n+\r\n+    try {\r\n+      await addDoc(collection(db, \"contactMessages\"), {\r\n+        name: form.name,\r\n+        email: form.email,\r\n+        message: form.message,\r\n+        timestamp: serverTimestamp(),\r\n+      });\r\n+\r\n+      setSubmitted(true);\r\n+      setForm({ name: \"\", email: \"\", message: \"\" });\r\n+    } catch (error) {\r\n+      console.error(\"Error sending message:\", error);\r\n+      alert(\"Failed to send message. Please try again.\");\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n   };\r\n \r\n   return (\r\n     <main className=\"max-w-2xl mx-auto px-4 py-10 text-neutral-800 dark:text-neutral-100\">\r\n@@ -27,9 +47,9 @@\n       </div>\r\n \r\n       {submitted ? (\r\n         <div className=\"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 p-4 rounded-lg shadow\">\r\n-          Thank you for reaching out! We'll get back to you soon.\r\n+          âœ… Thank you for reaching out! We'll get back to you soon.\r\n         </div>\r\n       ) : (\r\n         <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n           <div>\r\n@@ -78,11 +98,14 @@\n           </div>\r\n \r\n           <button\r\n             type=\"submit\"\r\n-            className=\"bg-blue-600 hover:bg-blue-700 text-white text-sm px-5 py-2 rounded-lg shadow transition\"\r\n+            disabled={loading}\r\n+            className={`${\r\n+              loading ? \"bg-gray-400\" : \"bg-blue-600 hover:bg-blue-700\"\r\n+            } text-white text-sm px-5 py-2 rounded-lg shadow transition`}\r\n           >\r\n-            Send Message\r\n+            {loading ? \"Sending...\" : \"Send Message\"}\r\n           </button>\r\n         </form>\r\n       )}\r\n     </main>\r\n"
                },
                {
                    "date": 1760122998721,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,8 +21,9 @@\n     e.preventDefault();\r\n     setLoading(true);\r\n \r\n     try {\r\n+      // Save message to Firestore\r\n       await addDoc(collection(db, \"contactMessages\"), {\r\n         name: form.name,\r\n         email: form.email,\r\n         message: form.message,\r\n"
                },
                {
                    "date": 1760124157363,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,39 +2,35 @@\n \"use client\";\r\n \r\n import React, { useState } from \"react\";\r\n import { Mail } from \"lucide-react\";\r\n-import { db } from \"@/lib/firebaseConfig\";\r\n-import { collection, addDoc, serverTimestamp } from \"firebase/firestore\";\r\n \r\n export default function ContactPage() {\r\n   const [form, setForm] = useState({ name: \"\", email: \"\", message: \"\" });\r\n   const [submitted, setSubmitted] = useState(false);\r\n   const [loading, setLoading] = useState(false);\r\n \r\n-  const handleChange = (\r\n-    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n-  ) => {\r\n+  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n     setForm({ ...form, [e.target.name]: e.target.value });\r\n   };\r\n \r\n   const handleSubmit = async (e: React.FormEvent) => {\r\n     e.preventDefault();\r\n     setLoading(true);\r\n \r\n     try {\r\n-      // Save message to Firestore\r\n-      await addDoc(collection(db, \"contactMessages\"), {\r\n-        name: form.name,\r\n-        email: form.email,\r\n-        message: form.message,\r\n-        timestamp: serverTimestamp(),\r\n+      const res = await fetch(\"/api/contact\", {\r\n+        method: \"POST\",\r\n+        headers: { \"Content-Type\": \"application/json\" },\r\n+        body: JSON.stringify(form),\r\n       });\r\n \r\n+      if (!res.ok) throw new Error(\"Failed to send message\");\r\n+\r\n       setSubmitted(true);\r\n       setForm({ name: \"\", email: \"\", message: \"\" });\r\n-    } catch (error) {\r\n-      console.error(\"Error sending message:\", error);\r\n+    } catch (err) {\r\n+      console.error(err);\r\n       alert(\"Failed to send message. Please try again.\");\r\n     } finally {\r\n       setLoading(false);\r\n     }\r\n@@ -53,11 +49,9 @@\n         </div>\r\n       ) : (\r\n         <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n           <div>\r\n-            <label htmlFor=\"name\" className=\"block text-sm font-medium\">\r\n-              Name\r\n-            </label>\r\n+            <label htmlFor=\"name\" className=\"block text-sm font-medium\">Name</label>\r\n             <input\r\n               type=\"text\"\r\n               name=\"name\"\r\n               required\r\n@@ -68,11 +62,9 @@\n             />\r\n           </div>\r\n \r\n           <div>\r\n-            <label htmlFor=\"email\" className=\"block text-sm font-medium\">\r\n-              Email\r\n-            </label>\r\n+            <label htmlFor=\"email\" className=\"block text-sm font-medium\">Email</label>\r\n             <input\r\n               type=\"email\"\r\n               name=\"email\"\r\n               required\r\n@@ -83,11 +75,9 @@\n             />\r\n           </div>\r\n \r\n           <div>\r\n-            <label htmlFor=\"message\" className=\"block text-sm font-medium\">\r\n-              Message\r\n-            </label>\r\n+            <label htmlFor=\"message\" className=\"block text-sm font-medium\">Message</label>\r\n             <textarea\r\n               name=\"message\"\r\n               rows={5}\r\n               required\r\n@@ -100,11 +90,9 @@\n \r\n           <button\r\n             type=\"submit\"\r\n             disabled={loading}\r\n-            className={`${\r\n-              loading ? \"bg-gray-400\" : \"bg-blue-600 hover:bg-blue-700\"\r\n-            } text-white text-sm px-5 py-2 rounded-lg shadow transition`}\r\n+            className={`${loading ? \"bg-gray-400\" : \"bg-blue-600 hover:bg-blue-700\"} text-white text-sm px-5 py-2 rounded-lg shadow transition`}\r\n           >\r\n             {loading ? \"Sending...\" : \"Send Message\"}\r\n           </button>\r\n         </form>\r\n"
                }
            ],
            "date": 1752595018460,
            "name": "Commit-0",
            "content": "// app/contact/page.tsx\r\n\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { Mail } from \"lucide-react\";\r\n\r\nexport default function ContactPage() {\r\n  const [form, setForm] = useState({ name: \"\", email: \"\", message: \"\" });\r\n  const [submitted, setSubmitted] = useState(false);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    // Fake submit logic\r\n    console.log(\"Contact form submitted:\", form);\r\n    setSubmitted(true);\r\n  };\r\n\r\n  return (\r\n    <main className=\"max-w-2xl mx-auto px-4 py-10 text-neutral-800 dark:text-neutral-100\">\r\n      <div className=\"flex items-center gap-2 mb-6\">\r\n        <Mail className=\"w-6 h-6 text-blue-500\" />\r\n        <h1 className=\"text-2xl font-semibold\">Contact Us</h1>\r\n      </div>\r\n\r\n      {submitted ? (\r\n        <div className=\"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 p-4 rounded-lg shadow\">\r\n          Thank you for reaching out! We'll get back to you soon.\r\n        </div>\r\n      ) : (\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <label htmlFor=\"name\" className=\"block text-sm font-medium\">\r\n              Name\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              required\r\n              value={form.name}\r\n              onChange={handleChange}\r\n              className=\"mt-1 w-full px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white shadow-sm focus:outline-none\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"email\" className=\"block text-sm font-medium\">\r\n              Email\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              required\r\n              value={form.email}\r\n              onChange={handleChange}\r\n              className=\"mt-1 w-full px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white shadow-sm focus:outline-none\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"message\" className=\"block text-sm font-medium\">\r\n              Message\r\n            </label>\r\n            <textarea\r\n              name=\"message\"\r\n              rows={5}\r\n              required\r\n              value={form.message}\r\n              onChange={handleChange}\r\n              className=\"mt-1 w-full px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white shadow-sm focus:outline-none\"\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"bg-blue-600 hover:bg-blue-700 text-white text-sm px-5 py-2 rounded-lg shadow transition\"\r\n          >\r\n            Send Message\r\n          </button>\r\n        </form>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n"
        }
    ]
}