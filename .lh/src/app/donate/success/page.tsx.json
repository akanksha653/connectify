{
    "sourceFile": "src/app/donate/success/page.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1752595257691,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1752598431247,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,25 +1,62 @@\n-// app/donate/success/page.tsx\r\n \"use client\";\r\n \r\n-import { Heart } from \"lucide-react\";\r\n+import { CheckCircle } from \"lucide-react\";\r\n+import { useSearchParams } from \"next/navigation\";\r\n import Link from \"next/link\";\r\n+import { motion } from \"framer-motion\";\r\n \r\n export default function DonateSuccessPage() {\r\n+  const searchParams = useSearchParams();\r\n+  const paymentId = searchParams.get(\"payment_id\");\r\n+  const amount = searchParams.get(\"amount\");\r\n+\r\n   return (\r\n-    <main className=\"max-w-xl mx-auto px-4 py-16 text-center text-neutral-800 dark:text-neutral-100\">\r\n-      <div className=\"flex justify-center mb-4\">\r\n-        <Heart className=\"w-10 h-10 text-pink-600 animate-pulse\" />\r\n-      </div>\r\n-      <h1 className=\"text-3xl font-bold mb-3\">Thank You!</h1>\r\n-      <p className=\"mb-6\">\r\n-        Your donation means the world to us ðŸ’–. Youâ€™re helping keep Connectify alive and thriving.\r\n-      </p>\r\n-      <Link\r\n-        href=\"/\"\r\n-        className=\"inline-block px-5 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium shadow transition\"\r\n+    <main className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-100 to-white dark:from-green-900 dark:to-neutral-900 px-4\">\r\n+      <motion.div\r\n+        initial={{ opacity: 0, scale: 0.95, y: 30 }}\r\n+        animate={{ opacity: 1, scale: 1, y: 0 }}\r\n+        transition={{ duration: 0.6 }}\r\n+        className=\"bg-white dark:bg-neutral-900 rounded-2xl shadow-xl p-8 w-full max-w-md text-center\"\r\n       >\r\n-        Back to Home\r\n-      </Link>\r\n+        <CheckCircle className=\"text-green-600 w-12 h-12 mx-auto mb-4 animate-pulse\" />\r\n+        <h1 className=\"text-2xl font-bold text-green-700 dark:text-green-400 mb-2\">\r\n+          Payment Successful!\r\n+        </h1>\r\n+        <p className=\"text-sm text-neutral-600 dark:text-neutral-300 mb-6\">\r\n+          Thank you for your donation ðŸ’–. Your support helps us keep Connectify free and growing.\r\n+        </p>\r\n+\r\n+        <div className=\"bg-neutral-100 dark:bg-neutral-800 rounded-lg p-4 text-left text-sm text-neutral-800 dark:text-white shadow-inner mb-6\">\r\n+          <p className=\"mb-1 font-medium\">ðŸ§¾ Donation Receipt</p>\r\n+          {paymentId ? (\r\n+            <>\r\n+              <div className=\"border-t border-neutral-300 dark:border-neutral-600 my-2 pt-2\">\r\n+                <p>\r\n+                  <span className=\"font-semibold\">Payment ID:</span>{\" \"}\r\n+                  <span className=\"break-words\">{paymentId}</span>\r\n+                </p>\r\n+                {amount && (\r\n+                  <p>\r\n+                    <span className=\"font-semibold\">Amount:</span> â‚¹{amount}\r\n+                  </p>\r\n+                )}\r\n+                <p>\r\n+                  <span className=\"font-semibold\">Status:</span> Confirmed âœ…\r\n+                </p>\r\n+              </div>\r\n+            </>\r\n+          ) : (\r\n+            <p className=\"text-red-500\">No payment details found.</p>\r\n+          )}\r\n+        </div>\r\n+\r\n+        <Link\r\n+          href=\"/\"\r\n+          className=\"inline-block px-5 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium shadow transition\"\r\n+        >\r\n+          Back to Home\r\n+        </Link>\r\n+      </motion.div>\r\n     </main>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1752598653866,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,14 +3,22 @@\n import { CheckCircle } from \"lucide-react\";\r\n import { useSearchParams } from \"next/navigation\";\r\n import Link from \"next/link\";\r\n import { motion } from \"framer-motion\";\r\n+import { useEffect, useState } from \"react\";\r\n \r\n export default function DonateSuccessPage() {\r\n   const searchParams = useSearchParams();\r\n-  const paymentId = searchParams.get(\"payment_id\");\r\n-  const amount = searchParams.get(\"amount\");\r\n+  const [paymentId, setPaymentId] = useState<string | null>(null);\r\n+  const [amount, setAmount] = useState<string | null>(null);\r\n \r\n+  useEffect(() => {\r\n+    const pid = searchParams.get(\"payment_id\");\r\n+    const amt = searchParams.get(\"amount\");\r\n+    setPaymentId(pid);\r\n+    setAmount(amt);\r\n+  }, [searchParams]);\r\n+\r\n   return (\r\n     <main className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-100 to-white dark:from-green-900 dark:to-neutral-900 px-4\">\r\n       <motion.div\r\n         initial={{ opacity: 0, scale: 0.95, y: 30 }}\r\n@@ -29,9 +37,9 @@\n         <div className=\"bg-neutral-100 dark:bg-neutral-800 rounded-lg p-4 text-left text-sm text-neutral-800 dark:text-white shadow-inner mb-6\">\r\n           <p className=\"mb-1 font-medium\">ðŸ§¾ Donation Receipt</p>\r\n           {paymentId ? (\r\n             <>\r\n-              <div className=\"border-t border-neutral-300 dark:border-neutral-600 my-2 pt-2\">\r\n+              <div className=\"border-t border-neutral-300 dark:border-neutral-600 my-2 pt-2 space-y-1\">\r\n                 <p>\r\n                   <span className=\"font-semibold\">Payment ID:</span>{\" \"}\r\n                   <span className=\"break-words\">{paymentId}</span>\r\n                 </p>\r\n"
                },
                {
                    "date": 1752598722180,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,18 +1,21 @@\n \"use client\";\r\n \r\n import { CheckCircle } from \"lucide-react\";\r\n-import { useSearchParams } from \"next/navigation\";\r\n import Link from \"next/link\";\r\n import { motion } from \"framer-motion\";\r\n import { useEffect, useState } from \"react\";\r\n+import { useSearchParams } from \"next/navigation\";\r\n \r\n export default function DonateSuccessPage() {\r\n-  const searchParams = useSearchParams();\r\n   const [paymentId, setPaymentId] = useState<string | null>(null);\r\n   const [amount, setAmount] = useState<string | null>(null);\r\n \r\n+  // Fix hydration issues by only accessing searchParams after mount\r\n+  const searchParams = typeof window !== \"undefined\" ? useSearchParams() : null;\r\n+\r\n   useEffect(() => {\r\n+    if (!searchParams) return;\r\n     const pid = searchParams.get(\"payment_id\");\r\n     const amt = searchParams.get(\"amount\");\r\n     setPaymentId(pid);\r\n     setAmount(amt);\r\n"
                },
                {
                    "date": 1752598856319,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,17 +1,17 @@\n \"use client\";\r\n \r\n-import { CheckCircle } from \"lucide-react\";\r\n+import { CheckCircle, Download } from \"lucide-react\";\r\n import Link from \"next/link\";\r\n import { motion } from \"framer-motion\";\r\n import { useEffect, useState } from \"react\";\r\n import { useSearchParams } from \"next/navigation\";\r\n+import { jsPDF } from \"jspdf\";\r\n \r\n export default function DonateSuccessPage() {\r\n   const [paymentId, setPaymentId] = useState<string | null>(null);\r\n   const [amount, setAmount] = useState<string | null>(null);\r\n \r\n-  // Fix hydration issues by only accessing searchParams after mount\r\n   const searchParams = typeof window !== \"undefined\" ? useSearchParams() : null;\r\n \r\n   useEffect(() => {\r\n     if (!searchParams) return;\r\n@@ -20,8 +20,22 @@\n     setPaymentId(pid);\r\n     setAmount(amt);\r\n   }, [searchParams]);\r\n \r\n+  const handleDownloadReceipt = () => {\r\n+    if (!paymentId || !amount) return;\r\n+\r\n+    const doc = new jsPDF();\r\n+    doc.setFontSize(16);\r\n+    doc.text(\"Connectify Donation Receipt\", 20, 20);\r\n+    doc.setFontSize(12);\r\n+    doc.text(`Payment ID: ${paymentId}`, 20, 40);\r\n+    doc.text(`Amount: â‚¹${amount}`, 20, 50);\r\n+    doc.text(`Status: Confirmed`, 20, 60);\r\n+    doc.text(`Date: ${new Date().toLocaleString()}`, 20, 70);\r\n+    doc.save(`receipt_${paymentId}.pdf`);\r\n+  };\r\n+\r\n   return (\r\n     <main className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-100 to-white dark:from-green-900 dark:to-neutral-900 px-4\">\r\n       <motion.div\r\n         initial={{ opacity: 0, scale: 0.95, y: 30 }}\r\n@@ -54,8 +68,15 @@\n                 <p>\r\n                   <span className=\"font-semibold\">Status:</span> Confirmed âœ…\r\n                 </p>\r\n               </div>\r\n+              <button\r\n+                onClick={handleDownloadReceipt}\r\n+                className=\"mt-4 flex items-center gap-2 mx-auto px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-md shadow transition\"\r\n+              >\r\n+                <Download className=\"w-4 h-4\" />\r\n+                Download PDF\r\n+              </button>\r\n             </>\r\n           ) : (\r\n             <p className=\"text-red-500\">No payment details found.</p>\r\n           )}\r\n"
                }
            ],
            "date": 1752595257691,
            "name": "Commit-0",
            "content": "// app/donate/success/page.tsx\r\n\"use client\";\r\n\r\nimport { Heart } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function DonateSuccessPage() {\r\n  return (\r\n    <main className=\"max-w-xl mx-auto px-4 py-16 text-center text-neutral-800 dark:text-neutral-100\">\r\n      <div className=\"flex justify-center mb-4\">\r\n        <Heart className=\"w-10 h-10 text-pink-600 animate-pulse\" />\r\n      </div>\r\n      <h1 className=\"text-3xl font-bold mb-3\">Thank You!</h1>\r\n      <p className=\"mb-6\">\r\n        Your donation means the world to us ðŸ’–. Youâ€™re helping keep Connectify alive and thriving.\r\n      </p>\r\n      <Link\r\n        href=\"/\"\r\n        className=\"inline-block px-5 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium shadow transition\"\r\n      >\r\n        Back to Home\r\n      </Link>\r\n    </main>\r\n  );\r\n}\r\n"
        }
    ]
}