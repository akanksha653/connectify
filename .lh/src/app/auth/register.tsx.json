{
    "sourceFile": "src/app/auth/register.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1758988176608,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1758988428255,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,26 +1,85 @@\n-// Example src/app/auth/register.tsx\r\n \"use client\";\r\n+\r\n import { useState } from \"react\";\r\n import { registerUser } from \"./firebaseAuth\";\r\n import { useAuth } from \"./authContext\";\r\n \r\n export default function RegisterPage() {\r\n   const { setUserId } = useAuth();\r\n+  const [name, setName] = useState(\"\");\r\n   const [email, setEmail] = useState(\"\");\r\n   const [password, setPassword] = useState(\"\");\r\n-  const [name, setName] = useState(\"\");\r\n+  const [age, setAge] = useState(\"\");\r\n+  const [gender, setGender] = useState(\"\");\r\n+  const [country, setCountry] = useState(\"\");\r\n \r\n   const handleRegister = async () => {\r\n-    const uid = await registerUser(email, password, { name });\r\n-    setUserId(uid);\r\n+    if (!name || !email || !password || !age || !gender || !country) {\r\n+      alert(\"Please fill all fields\");\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const uid = await registerUser(email, password, {\r\n+        name,\r\n+        age: Number(age),\r\n+        gender,\r\n+        country,\r\n+        currentStatus: \"idle\",\r\n+      });\r\n+      setUserId(uid);\r\n+    } catch (err) {\r\n+      console.error(err);\r\n+      alert(\"Registration error: \" + err);\r\n+    }\r\n   };\r\n \r\n   return (\r\n-    <div>\r\n-      <input placeholder=\"Name\" value={name} onChange={e => setName(e.target.value)} />\r\n-      <input placeholder=\"Email\" value={email} onChange={e => setEmail(e.target.value)} />\r\n-      <input placeholder=\"Password\" type=\"password\" value={password} onChange={e => setPassword(e.target.value)} />\r\n-      <button onClick={handleRegister}>Register</button>\r\n+    <div className=\"flex flex-col items-center justify-center min-h-screen space-y-2\">\r\n+      <input\r\n+        type=\"text\"\r\n+        placeholder=\"Name\"\r\n+        value={name}\r\n+        onChange={e => setName(e.target.value)}\r\n+        className=\"input-field\"\r\n+      />\r\n+      <input\r\n+        type=\"email\"\r\n+        placeholder=\"Email\"\r\n+        value={email}\r\n+        onChange={e => setEmail(e.target.value)}\r\n+        className=\"input-field\"\r\n+      />\r\n+      <input\r\n+        type=\"password\"\r\n+        placeholder=\"Password\"\r\n+        value={password}\r\n+        onChange={e => setPassword(e.target.value)}\r\n+        className=\"input-field\"\r\n+      />\r\n+      <input\r\n+        type=\"number\"\r\n+        placeholder=\"Age\"\r\n+        value={age}\r\n+        onChange={e => setAge(e.target.value)}\r\n+        className=\"input-field\"\r\n+      />\r\n+      <select value={gender} onChange={e => setGender(e.target.value)} className=\"input-field\">\r\n+        <option value=\"\">Select Gender</option>\r\n+        <option value=\"male\">Male</option>\r\n+        <option value=\"female\">Female</option>\r\n+        <option value=\"other\">Other</option>\r\n+      </select>\r\n+      <input\r\n+        type=\"text\"\r\n+        placeholder=\"Country\"\r\n+        value={country}\r\n+        onChange={e => setCountry(e.target.value)}\r\n+        className=\"input-field\"\r\n+      />\r\n+      <button onClick={handleRegister} className=\"btn-primary\">\r\n+        Register\r\n+      </button>\r\n     </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1758988524199,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,9 +63,18 @@\n         value={age}\r\n         onChange={e => setAge(e.target.value)}\r\n         className=\"input-field\"\r\n       />\r\n-      <select value={gender} onChange={e => setGender(e.target.value)} className=\"input-field\">\r\n+      <label htmlFor=\"gender-select\" className=\"sr-only\">\r\n+        Gender\r\n+      </label>\r\n+      <select\r\n+        id=\"gender-select\"\r\n+        value={gender}\r\n+        onChange={e => setGender(e.target.value)}\r\n+        className=\"input-field\"\r\n+        aria-label=\"Gender\"\r\n+      >\r\n         <option value=\"\">Select Gender</option>\r\n         <option value=\"male\">Male</option>\r\n         <option value=\"female\">Female</option>\r\n         <option value=\"other\">Other</option>\r\n"
                },
                {
                    "date": 1758991286627,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,78 +1,84 @@\n \"use client\";\r\n \r\n import { useState } from \"react\";\r\n+import { useRouter } from \"next/navigation\";\r\n import { registerUser } from \"./firebaseAuth\";\r\n import { useAuth } from \"./authContext\";\r\n \r\n export default function RegisterPage() {\r\n   const { setUserId } = useAuth();\r\n+  const router = useRouter();\r\n+\r\n   const [name, setName] = useState(\"\");\r\n   const [email, setEmail] = useState(\"\");\r\n   const [password, setPassword] = useState(\"\");\r\n   const [age, setAge] = useState(\"\");\r\n   const [gender, setGender] = useState(\"\");\r\n   const [country, setCountry] = useState(\"\");\r\n+  const [loading, setLoading] = useState(false);\r\n \r\n   const handleRegister = async () => {\r\n     if (!name || !email || !password || !age || !gender || !country) {\r\n       alert(\"Please fill all fields\");\r\n       return;\r\n     }\r\n \r\n     try {\r\n+      setLoading(true);\r\n       const uid = await registerUser(email, password, {\r\n         name,\r\n         age: Number(age),\r\n         gender,\r\n         country,\r\n         currentStatus: \"idle\",\r\n       });\r\n       setUserId(uid);\r\n+      router.push(\"/anonymous\"); // Redirect to anonymous chat after registration\r\n     } catch (err) {\r\n       console.error(err);\r\n       alert(\"Registration error: \" + err);\r\n+    } finally {\r\n+      setLoading(false);\r\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"flex flex-col items-center justify-center min-h-screen space-y-2\">\r\n+    <div className=\"flex flex-col items-center justify-center min-h-screen space-y-4 px-4\">\r\n+      <h1 className=\"text-2xl font-bold mb-4\">Register</h1>\r\n+\r\n       <input\r\n         type=\"text\"\r\n         placeholder=\"Name\"\r\n         value={name}\r\n-        onChange={e => setName(e.target.value)}\r\n-        className=\"input-field\"\r\n+        onChange={(e) => setName(e.target.value)}\r\n+        className=\"w-full max-w-md px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n       />\r\n       <input\r\n         type=\"email\"\r\n         placeholder=\"Email\"\r\n         value={email}\r\n-        onChange={e => setEmail(e.target.value)}\r\n-        className=\"input-field\"\r\n+        onChange={(e) => setEmail(e.target.value)}\r\n+        className=\"w-full max-w-md px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n       />\r\n       <input\r\n         type=\"password\"\r\n         placeholder=\"Password\"\r\n         value={password}\r\n-        onChange={e => setPassword(e.target.value)}\r\n-        className=\"input-field\"\r\n+        onChange={(e) => setPassword(e.target.value)}\r\n+        className=\"w-full max-w-md px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n       />\r\n       <input\r\n         type=\"number\"\r\n         placeholder=\"Age\"\r\n         value={age}\r\n-        onChange={e => setAge(e.target.value)}\r\n-        className=\"input-field\"\r\n+        onChange={(e) => setAge(e.target.value)}\r\n+        className=\"w-full max-w-md px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n       />\r\n-      <label htmlFor=\"gender-select\" className=\"sr-only\">\r\n-        Gender\r\n-      </label>\r\n       <select\r\n-        id=\"gender-select\"\r\n         value={gender}\r\n-        onChange={e => setGender(e.target.value)}\r\n-        className=\"input-field\"\r\n+        onChange={(e) => setGender(e.target.value)}\r\n+        className=\"w-full max-w-md px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n         aria-label=\"Gender\"\r\n       >\r\n         <option value=\"\">Select Gender</option>\r\n         <option value=\"male\">Male</option>\r\n@@ -82,13 +88,18 @@\n       <input\r\n         type=\"text\"\r\n         placeholder=\"Country\"\r\n         value={country}\r\n-        onChange={e => setCountry(e.target.value)}\r\n-        className=\"input-field\"\r\n+        onChange={(e) => setCountry(e.target.value)}\r\n+        className=\"w-full max-w-md px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n       />\r\n-      <button onClick={handleRegister} className=\"btn-primary\">\r\n-        Register\r\n+\r\n+      <button\r\n+        onClick={handleRegister}\r\n+        disabled={loading}\r\n+        className=\"w-full max-w-md bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded-md shadow-md transition\"\r\n+      >\r\n+        {loading ? \"Registering...\" : \"Register\"}\r\n       </button>\r\n     </div>\r\n   );\r\n }\r\n"
                }
            ],
            "date": 1758988176608,
            "name": "Commit-0",
            "content": "// Example src/app/auth/register.tsx\r\n\"use client\";\r\nimport { useState } from \"react\";\r\nimport { registerUser } from \"./firebaseAuth\";\r\nimport { useAuth } from \"./authContext\";\r\n\r\nexport default function RegisterPage() {\r\n  const { setUserId } = useAuth();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n\r\n  const handleRegister = async () => {\r\n    const uid = await registerUser(email, password, { name });\r\n    setUserId(uid);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <input placeholder=\"Name\" value={name} onChange={e => setName(e.target.value)} />\r\n      <input placeholder=\"Email\" value={email} onChange={e => setEmail(e.target.value)} />\r\n      <input placeholder=\"Password\" type=\"password\" value={password} onChange={e => setPassword(e.target.value)} />\r\n      <button onClick={handleRegister}>Register</button>\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}